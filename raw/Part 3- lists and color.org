#+TITLE: Part 3: lists and color
#+URL: http://dantorop.info/project/emacs-animation/lisp3.html
#+AUTHOR: lujun9972
#+TAGS: raw
#+DATE: [2020年 02月 10日 星期一 10:08:06 HKT]
#+LANGUAGE:  zh-CN
#+OPTIONS:  H:6 num:nil toc:t \n:nil ::t |:t ^:nil -:nil f:t *:t <:nil
Continued from [[/project/emacs-animation/lisp2.html][Emacs Lisp programming pt. 2]].

*** Going through a list
    :PROPERTIES:
    :CUSTOM_ID: going-through-a-list
    :END:

#+BEGIN_EXAMPLE
  ELISP> (setq bar '("do" "re" "mi" "fa"))
  ("do" "re" "mi" "fa")

  ELISP> (dolist (note bar)
       (insert note))
  nil
  ELISP> doremifa
#+END_EXAMPLE

*** Lists within lists
    :PROPERTIES:
    :CUSTOM_ID: lists-within-lists
    :END:

#+BEGIN_EXAMPLE
  ELISP> (setq foo '(("hello" 5)
           ("bye" 2)
           ("later" 7)))
  (("hello" 5)
   ("bye" 2)
   ("later" 7))

  ELISP> (dolist (item foo)
       (dotimes (x (nth 1 item))
       (insert (nth 0 item)))
       (newline))
  nil
  ELISP> hellohellohellohellohello
  byebye
  laterlaterlaterlaterlaterlaterlater
#+END_EXAMPLE

*** Using color:
    :PROPERTIES:
    :CUSTOM_ID: using-color
    :END:

#+BEGIN_EXAMPLE
  (insert (propertize "bar" 'face '(:foreground "red")))
  (insert (propertize "bar" 'face '(:background "gray30")))
  (insert (propertize "bar" 'face '(:foreground "#33AAFF")))
  (insert (propertize "bar" 'face '(:foreground "orange" :background "purple")))
#+END_EXAMPLE

To make this work in =ielm=, first type =M-x font-lock-mode=. You should see a message at the bottom of the screen =Font-Lock mode disabled= (if it says =enabled=, type =M-x font-lock-mode= again).

Continued in [[/project/emacs-animation/lisp4.html][Emacs Lisp programming pt. 4]].
