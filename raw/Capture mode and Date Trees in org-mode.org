#+TITLE: Capture mode and Date Trees in org-mode
#+URL: http://members.optusnet.com.au/~charles57/GTD/datetree.html
#+AUTHOR: lujun9972
#+TAGS: raw
#+DATE: [2018年 09月 19日 星期三 19:08:18 HKT]
#+LANGUAGE:  zh-CN
#+OPTIONS:  H:6 num:nil toc:t n:nil ::t |:t ^:nil -:nil f:t *:t <:nil
* Capture mode and Date Trees
捕获模式和日期树
:PROPERTIES:
属性:
:CUSTOM_ID: sec-1
:CUSTOM_ID sec-1
:END:
结束:

An important piece of functionality in org-mode is the ability to
在组织模式中一个重要的功能是能够
capture notes and ideas (using *capture* mode) and storing in a
捕获笔记和想法(使用*捕获*模式)并存储在a中
nominated location. Date Trees are a method of specifying a location
指定的位置。日期树是一种指定位置的方法
based on the date.
根据日期。

** What is Capture?
**什么是捕获?
:PROPERTIES:
属性:
:CUSTOM_ID: sec-1_1
:CUSTOM_ID sec-1_1
:END:
结束:

Capture is a facility for quickly adding to your org-files with
捕获是一个快速添加到您的组织文件的工具
minimal disruption to your work flow. It supercedes the *remember*
尽量减少对工作流程的干扰。它取代了“记住”
module but is similar in operation. The basic worklow of using
模块，但在操作上类似。基本的使用方法
capture is as follows:
捕获如下:

1. Invoke capture. I use the F6 function key which is bound to
1. 调用捕获。我使用F6函数键，这是绑定到
org-capture in my =.emacs= file:
my =中的组织捕获。emacs =文件:
=(global-set-key (kbd "<f6>") 'org-capture)=
= (global-set-key (kbd < f6 >)' org-capture) =
2. A new window is displayed with a list of templates. Each template
2. 将显示一个带有模板列表的新窗口。每个模板
has an associated short cut key, for example =n= for notes and =t=
是否有相关联的快捷键，例如=n= for notes和=t=
for a Todo-list item.
用于待办事项列表项。
3. Enter the short cut code, for example =n= for note
3.输入快捷代码，例如=n= for note
4. Type the text
4. 输入文本
5. File the note =C-c C-c=
5. 文件记录=C-c C-c=
6. Continue whatever you were working on.
6. 继续你的工作。

If you would like to go to the point where the item was filed, enter
如果您想进入项目被归档的地方，请输入
the very useful command =C-u C-u F6=.
非常有用的命令=C-u C-u F6=。

** Capture templates
* *获取模板
:PROPERTIES:
属性:
:CUSTOM_ID: sec-1_2
:CUSTOM_ID sec-1_2
:END:
结束:

Each template is set up in the =.emacs= file or by customising
每个模板都是在=中设置的。emacs=文件或通过自定义
org-mode options. The components of a capture element are described in
org-mode选项。中描述了捕获元素的组件
section 9.1.3.1 of the manual but here is a summary:
本手册第9.1.3.1节，但以下是概要:

- a *shortcut* key (a letter)
-快捷键(字母)
- a *description* of the template
-模板的*描述*
- a *type* of entry. These can be an org-mode *entry* (node) with a
-一个*类型*的条目。这些可以是带有a的组织模式*条目*(节点)
headline, an *item* in a list, a checkbox item (*checkitem*) , a
标题，列表中的*项目*，复选框中的项目(*checkitem*)， a
line in a table (*table-line*) or *plain* text.
表格中的行(*表格行*)或*纯*文本。
- a *target* specifying where the captured item should be placed
-一个*目标*指定捕获的项目应该放在哪里
- a *template* - a strng of text with special escape codes for date
-一个*模板* -一个字符串的文本与特殊的转义码的日期
stamps, prompt strings, etc
邮票、提示字符串等
- additional behaviour properties (I am still stumped on how to set up
-额外的行为属性(我仍然对如何设置感到困惑
"property lists")
“属性列表”)

These are my capture templates on my office computer:
这些是我在办公室电脑上的捕获模板:

#+BEGIN_EXAMPLE
'(org-capture-templates
(quote (
("a" "Appointment" entry (file+headline
"c:/charles/My Dropbox/GTD/taskdiary.org" "Calendar")
"* APPT %^{Description} %^g
%?
Added: %U")
#+END_EXAMPLE

#+BEGIN_EXAMPLE
("n" "Notes" entry (file+datetree
"c:/charles/My Dropbox/GTD/taskdiary.org")
"* %^{Description} %^g %?
Added: %U")
#+END_EXAMPLE

#+BEGIN_EXAMPLE
("t" "Task Diary" entry (file+datetree
"c:/charles/My Dropbox/GTD/taskdiary.org")
"* TODO %^{Description} %^g
%?
Added: %U")
#+END_EXAMPLE

#+BEGIN_EXAMPLE
("j" "Journal" entry (file+datetree
"c:/charles/My Dropbox/GTD/workjournal.org")
"** %^{Heading}")
#+END_EXAMPLE

#+BEGIN_EXAMPLE
("l" "Log Time" entry (file+datetree
"c:/charles/My Dropbox/GTD/timelog.org" )
"** %U - %^{Activity} :TIME:")
)))
#+END_EXAMPLE

Note how the templates are spread across multiple lines. If you want
注意模板是如何跨多行展开的。如果你想要
some text to start on a new line then format the template
一些文本以新行开始，然后格式化模板
accordingly. For example the "Added:" text starts on a new line.
相应的行动。例如，“已添加:”文本从新行开始。

Here is screen capture of Emacs after capture mode was started with
下面是Emacs在启动捕获模式后的屏幕截图
F6. Compare the descriptions and short cut keys to what is displayed.
F6。将描述和快捷键与显示的内容进行比较。

[[file:capture1.png]]
[[文件:capture1.png]]

Some notes about this configuration:
关于这个配置的一些注意事项:

- I save my files in a folder which is synchronised between my office
-我把档案存放在一个与办公室同步的文件夹里
and home computers using the web-based [[https://www.dropbox.com][DropBox]] service.
以及使用基于web的[[https://www.dropbox.com][DropBox]]服务的家用电脑。
- =%^g= prompts for a tag
- =%^g=提示输入标签
- I timestamp all my captured items with the line:
-我的时间戳所有我捕获的项目与行:
=Added: %U=
=说:% U =
- Some of my items are filed after a specific headline in a file.
-我的一些项目是在一个特定的标题后存档。
Appointments are filed under a heading *Calendar*.
任命是在“日历”标题下归档的。
- Other entries are filed in date trees. These are explained in the
-其他条目在日期树中归档。中对此进行了解释
next section.
下一节。

** Date Tree Format
**日期树格式
:PROPERTIES:
属性:
:CUSTOM_ID: sec-1_3
:CUSTOM_ID sec-1_3
:END:
结束:

A date tree is a set of headlines used to capture information by
日期树是一组用于捕获信息的标题
date. There are three levels of headlines, each with a specific format:
日期。标题有三层，每一层都有特定的格式:

- Level 1 headline for the *year* (=YYYY=)
- *年*第一级标题(=YYYY=)
- Level 2 headline for the *month* (=YYYY-MM Monthname=)
-第二级标题*月份* (=YYYY-MM月份名=)
- Level 3 headline for the *day* (=YYYY-MM-DD Dayname=)
-第3级标题*日* (=YYYY-MM-DD日=)

Here is a screen capture from one of my files showing a date tree.
这是我的一个文件的屏幕截图，显示了一个日期树。

[[file:datetree1.png]]
[[文件:datetree1.png]]

** Capturing to a date tree
捕获到一个日期树
:PROPERTIES:
属性:
:CUSTOM_ID: sec-1_4
:CUSTOM_ID sec-1_4
:END:
结束:

Capture uses template definitions (stored in your =.emacs= startup
Capture使用模板定义(存储在您的=中)。emacs =启动
file) to define where information should be stored and in which file.
定义信息应该存储在何处以及存储在哪个文件中。
One of the target types is a date tree: =(file+datetree "path/to/file")=.
其中一个目标类型是一个日期树:=(file+datetree "path/to/file")=。

When a new headline is created in a date-tree, Capture searches from
在日期树中创建新标题时，捕获搜索
the beginning of the target file looking for a match on the year. If
在目标文件的开头查找年份上的匹配项。如果
it is not found, then a level one headline is created. The process is
如果没有找到，则创建第一级标题。这个过程是
repeated for the month then the day. Missing months and missing day
重复一个月，然后是一天。错过了几个月和一天
headlines are *not* created to fill in gaps.
标题“不是”用来填补空白的。

It is possible to attend text to the headlines and not interfere with
这是可能的出席文本的标题和不干涉
Capture. This allowed me to manually enter the week number (read from
捕捉。这使我可以手动输入星期数(从
the agenda view) to help me indentify the beginning of the
议程视图)来帮助我识别的开始
week. You may want to add tags to these headlines.
的一周。您可能想要为这些标题添加标记。

** Practical uses of Capture and Date Trees
捕获树和枣树的实际用途
:PROPERTIES:
属性:
:CUSTOM_ID: sec-1_5
:CUSTOM_ID sec-1_5
:END:
结束:

I am used to writing notes in a hardcover notebook. This is my journal
我习惯在精装笔记本上记笔记。这是我的日记
where I rule a line at the beginning of each day, write the date and
我在每天的开始划上一条线，写下日期和
day then add notes during the day. Date trees and capture allow me to
然后在白天添加笔记。请允许我给树画上日期和图案
replicate this functionality.
复制这个功能。

I am also used to using a diary for identifying appointments and
我也习惯用日记来记录约会和约会
deadlines. The agenda view gives me this functionality with the need
最后期限。日程视图为我提供了所需的功能
to move brances (headings) in my org-mode files.
在我的组织模式文件中移动标题。

Date trees give the functionality of writing entries into a "diary" on
日期树提供了将条目写入“日记”的功能
a dated page. I use a file named =taskdiary.org= to capture my notes
一个过时的页面。我使用一个名为=taskdiary.org=的文件来记录我的笔记
and "To Do" list items as branches on the tree.
“To Do”将项目作为树的分支列出。

The *Notes* template prompts for a headline text then positions the cursor
模板提示输入标题文本，然后定位光标
under the headline to type or paste text.
在标题下键入或粘贴文本。

The *Task* templates prompts for a headline text as well as a category
任务模板提示输入标题文本和类别
tag. The TODO keyword is included in part of the template.
标签。TODO关键字包含在模板的一部分中。

In both templates I add the date and time created as this provides
在这两个模板中，我添加了创建的日期和时间
useful tracking information, especially when items are refiled.
有用的跟踪信息，特别是项目重新归档时。

I could have captured notes in one file and To Do items in another
我可以在一个文件中捕获笔记，在另一个文件中做项目
file, but I wanted notes and tasks to coexist "on the same
但我希望notes和任务“在同一平台上”共存
page". Sometimes I will convert a note into a TODO item and it is
页”。有时我会把一张便条转换成待办事项，确实如此
easier to do this when the item is stored in the same file.
当项目存储在相同的文件中时，更容易做到这一点。

The *Journal* template is used to record information for long term
*Journal*模板用于长期记录信息
storage such as diary entries, details of books I have read and things
存储如日记，我读过的书的细节和东西
I have done. Once an item is in the Journal file I don't move it. I
我所做的。一旦一个项目在日志文件中，我不移动它。我
only use the Journal file on my home computer.
只使用我家里电脑上的日志文件。

The *Log Time* entry is something I started this week to track
日志时间是我这周开始跟踪的东西
what I do all day at work. Every time I start a new task or have a
我整天工作的内容。每次我开始一个新任务或有一个
break I log a a brief description. Here is a view of my day so far:
打破我日志一个简短的描述。以下是迄今为止我一天的工作安排:

[[file:timelog.png]]
[[文件:timelog.png]]

The *Receipts* is used for recording payment details resulting from
收据是用来记录付款细节的
Internet banking and online commerce sites. I found it is more
网上银行和网上商业网站。我发现更多
suitable to keep financial information separate from other journal entries.
适用于将财务信息与其他日记账项目分开。

This template is only set up on my home computer as I only work on
这个模板只在我家里的电脑上设置，因为我只在上面工作
personal finance at home.
在家理财。

*** My productivity system
我的工作效率系统
:PROPERTIES:
属性:
:CUSTOM_ID: sec-1_5_1
:CUSTOM_ID sec-1_5_1
:END:
结束:

Here is a screen capture showing part of the Task Diary
下面是显示部分任务日志的屏幕截图

[[file:datetree3.png]]
[[文件:datetree3.png]]

On Wednesday (2010-10-06) you can see one To Do item with context of
周三(2010-10-06)你可以看到一个做项目的上下文
COMPUTER and two note items. On Tuesday (2010-10-19) there are two To
电脑和两个笔记项目。周二(2010-10-19)有两场比赛
Do items and 3 completed (DONE) tasks.
完成项目和3个已完成的任务。

This date-tree is the basis of my task management system.
此日期树是我的任务管理系统的基础。

Items are added as follows:-
增加的项目如下:-

- *Todo* items are added with the *t* capture template. A tag is added to
- *Todo*项与*t* capture模板一起添加。一个标签被添加到
give context and a scheduled or deadline date can be added with the
方法添加上下文和预定的或截止日期
appropriate command (=C-c s= and =C-c d= respectively)
适当的命令(=C-c s=和=C-c d=分别)
- *Notes* are added with the *n* capture template.
*注释*是与*n*捕获模板一起添加的。

When I need to decide what to do next, I use the following methods:
当我需要决定下一步做什么时，我使用以下方法:

- *Agenda view* - identify items marked with Scheduled or
- *议程视图* -标识标有日程安排或的项目
Deadline dates
截止日期
- *Tag* view - show tems marked with a tag (my GTD contexts,
- *Tag* view -显示标记了标签的tems(我的GTD上下文，
eg HOME, OFFICE, FINANCE, READING, DVD)
家庭、办公室、金融、阅读、DVD)
- *Reviewing this weeks nodes* - Each day I quickly scan the
- *回顾这周的节点* -每天我快速扫描
items added since the beginning of the week.
从本周开始添加的项目。

Read [[file:index.html][more articles]] about org-mode and productivity
读[[文件:索引。关于组织模式和生产力的更多文章
