<!DOCTYPE html>
<html lang="en">
<head>
  <title>Capture mode and Date Trees in org-mode - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <meta name="keywords" content="raw" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="https://lujun9972.github.io/emacs-document/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="https://lujun9972.github.io/emacs-document/media/css/comment.css" type="text/css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="https://lujun9972.github.io/emacs-document/">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;集思广益</p>
    <nav class="site-nav">
      <div class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" fill="#ffff00"/>
          <path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" fill="#ffff00"/>
          <path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" fill="#ffff00"/>
        </svg>
      </div>
      <ul class="trigger">
        <li><a href="https://lujun9972.github.io/emacs-document/years/">Years</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/authors/">Authors</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/tags/">Tags</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document">Github</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">Capture mode and Date Trees in org-mode</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Capture mode and Date Trees</a>
<ul>
<li><a href="#sec-1_1">What is Capture?</a></li>
<li><a href="#sec-1_2">Capture templates</a></li>
<li><a href="#sec-1_3">Date Tree Format</a></li>
<li><a href="#sec-1_4">Capturing to a date tree</a></li>
<li><a href="#sec-1_5">Practical uses of Capture and Date Trees</a>
<ul>
<li><a href="#sec-1_5_1">My productivity system</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgce69a37" class="outline-2">
<h2 id="sec-1">Capture mode and Date Trees</h2>
<div class="outline-text-2" id="text-sec-1">
<p>
An important piece of functionality in org-mode is the ability to
capture notes and ideas (using <b>capture</b> mode) and storing in a
nominated location. Date Trees are a method of specifying a location
based on the date.
</p>
</div>

<div id="outline-container-org25069cb" class="outline-3">
<h3 id="sec-1_1">What is Capture?</h3>
<div class="outline-text-3" id="text-sec-1_1">
<p>
Capture is a facility for quickly adding to your org-files with
minimal disruption to your work flow. It supercedes the <b>remember</b>
module but is similar in operation. The basic worklow of using
capture is as follows:
</p>

<ol class="org-ol">
<li>Invoke capture. I use the F6 function key which is bound to
org-capture in my <code>.emacs</code> file:
<code>(global-set-key (kbd "&lt;f6&gt;") 'org-capture)</code></li>
<li>A new window is displayed with a list of templates. Each template
has an associated short cut key, for example <code>n</code> for notes and <code>t</code>
for a Todo-list item.</li>
<li>Enter the short cut code, for example <code>n</code> for note</li>
<li>Type the text</li>
<li>File the note <code>C-c C-c</code></li>
<li>Continue whatever you were working on.</li>
</ol>

<p>
If you would like to go to the point where the item was filed, enter
the very useful command <code>C-u C-u F6</code>.
</p>
</div>
</div>

<div id="outline-container-org64e2330" class="outline-3">
<h3 id="sec-1_2">Capture templates</h3>
<div class="outline-text-3" id="text-sec-1_2">
<p>
Each template is set up in the <code>.emacs</code> file or by customising
org-mode options. The components of a capture element are described in
section 9.1.3.1 of the manual but here is a summary:
</p>

<ul class="org-ul">
<li>a <b>shortcut</b> key (a letter)</li>
<li>a <b>description</b> of the template</li>
<li>a <b>type</b> of entry. These can be an org-mode <b>entry</b> (node) with a
headline, an <b>item</b> in a list, a checkbox item (<b>checkitem</b>) , a
line in a table (<b>table-line</b>) or <b>plain</b> text.</li>
<li>a <b>target</b> specifying where the captured item should be placed</li>
<li>a <b>template</b> - a strng of text with special escape codes for date
stamps, prompt strings, etc</li>
<li>additional behaviour properties (I am still stumped on how to set up
"property lists")</li>
</ul>

<p>
These are my capture templates on my office computer:
</p>

<pre class="example">
'(org-capture-templates 
(quote (
("a" "Appointment" entry (file+headline 
"c:/charles/My Dropbox/GTD/taskdiary.org" "Calendar") 
"* APPT %^{Description} %^g
%?
Added: %U") 
</pre>

<pre class="example">
("n" "Notes" entry (file+datetree 
"c:/charles/My Dropbox/GTD/taskdiary.org") 
"* %^{Description} %^g %? 
Added: %U") 
</pre>

<pre class="example">
("t" "Task Diary" entry (file+datetree 
"c:/charles/My Dropbox/GTD/taskdiary.org") 
"* TODO %^{Description} %^g
%?
Added: %U") 
</pre>

<pre class="example">
("j" "Journal" entry (file+datetree 
"c:/charles/My Dropbox/GTD/workjournal.org") 
"** %^{Heading}") 
</pre>

<pre class="example">
("l" "Log Time" entry (file+datetree 
"c:/charles/My Dropbox/GTD/timelog.org" ) 
"** %U - %^{Activity} :TIME:")
)))
</pre>

<p>
Note how the templates are spread across multiple lines. If you want
some text to start on a new line then format the template
accordingly. For example the "Added:" text starts on a new line.
</p>

<p>
Here is screen capture of Emacs after capture mode was started with
F6. Compare the descriptions and short cut keys to what is displayed.
</p>


<div class="figure">
<p><img src="capture1.png" alt="capture1.png" />
</p>
</div>

<p>
Some notes about this configuration:
</p>

<ul class="org-ul">
<li>I save my files in a folder which is synchronised between my office
and home computers using the web-based <a href="https://www.dropbox.com">DropBox</a> service.</li>
<li><code>%^g</code> prompts for a tag</li>
<li>I timestamp all my captured items with the line:
<code>Added: %U</code></li>
<li>Some of my items are filed after a specific headline in a file.
Appointments are filed under a heading <b>Calendar</b>.</li>
<li>Other entries are filed in date trees. These are explained in the
next section.</li>
</ul>
</div>
</div>

<div id="outline-container-org8fee4e0" class="outline-3">
<h3 id="sec-1_3">Date Tree Format</h3>
<div class="outline-text-3" id="text-sec-1_3">
<p>
A date tree is a set of headlines used to capture information by
date. There are three levels of headlines, each with a specific format:
</p>

<ul class="org-ul">
<li>Level 1 headline for the <b>year</b> (<code>YYYY</code>)</li>
<li>Level 2 headline for the <b>month</b> (<code>YYYY-MM Monthname</code>)</li>
<li>Level 3 headline for the <b>day</b> (<code>YYYY-MM-DD Dayname</code>)</li>
</ul>

<p>
Here is a screen capture from one of my files showing a date tree.
</p>


<div class="figure">
<p><img src="datetree1.png" alt="datetree1.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org084297b" class="outline-3">
<h3 id="sec-1_4">Capturing to a date tree</h3>
<div class="outline-text-3" id="text-sec-1_4">
<p>
Capture uses template definitions (stored in your <code>.emacs</code> startup
file) to define where information should be stored and in which file.
One of the target types is a date tree: <code>(file+datetree "path/to/file")</code>.
</p>

<p>
When a new headline is created in a date-tree, Capture searches from
the beginning of the target file looking for a match on the year. If
it is not found, then a level one headline is created. The process is
repeated for the month then the day. Missing months and missing day
headlines are <b>not</b> created to fill in gaps.
</p>

<p>
It is possible to attend text to the headlines and not interfere with
Capture. This allowed me to manually enter the week number (read from
the agenda view) to help me indentify the beginning of the
week. You may want to add tags to these headlines.
</p>
</div>
</div>

<div id="outline-container-orgc55fdcc" class="outline-3">
<h3 id="sec-1_5">Practical uses of Capture and Date Trees</h3>
<div class="outline-text-3" id="text-sec-1_5">
<p>
I am used to writing notes in a hardcover notebook. This is my journal
where I rule a line at the beginning of each day, write the date and
day then add notes during the day. Date trees and capture allow me to
replicate this functionality.
</p>

<p>
I am also used to using a diary for identifying appointments and
deadlines. The agenda view gives me this functionality with the need
to move brances (headings) in my org-mode files.
</p>

<p>
Date trees give the functionality of writing entries into a "diary" on
a dated page. I use a file named <code>taskdiary.org</code> to capture my notes
and "To Do" list items as branches on the tree.
</p>

<p>
The <b>Notes</b> template prompts for a headline text then positions the cursor
under the headline to type or paste text.
</p>

<p>
The <b>Task</b> templates prompts for a headline text as well as a category
tag. The TODO keyword is included in part of the template.
</p>

<p>
In both templates I add the date and time created as this provides
useful tracking information, especially when items are refiled.
</p>

<p>
I could have captured notes in one file and To Do items in another
file, but I wanted notes and tasks to coexist "on the same
page". Sometimes I will convert a note into a TODO item and it is
easier to do this when the item is stored in the same file.
</p>

<p>
The <b>Journal</b> template is used to record information for long term
storage such as diary entries, details of books I have read and things
I have done. Once an item is in the Journal file I don't move it. I
only use the Journal file on my home computer.
</p>

<p>
The <b>Log Time</b> entry is something I started this week to track
what I do all day at work. Every time I start a new task or have a
break I log a a brief description. Here is a view of my day so far:
</p>


<div class="figure">
<p><img src="timelog.png" alt="timelog.png" />
</p>
</div>

<p>
The <b>Receipts</b> is used for recording payment details resulting from
Internet banking and online commerce sites. I found it is more
suitable to keep financial information separate from other journal entries.
</p>

<p>
This template is only set up on my home computer as I only work on
personal finance at home.
</p>
</div>

<div id="outline-container-org7210910" class="outline-4">
<h4 id="sec-1_5_1">My productivity system</h4>
<div class="outline-text-4" id="text-sec-1_5_1">
<p>
Here is a screen capture showing part of the Task Diary
</p>


<div class="figure">
<p><img src="datetree3.png" alt="datetree3.png" />
</p>
</div>

<p>
On Wednesday (2010-10-06) you can see one To Do item with context of
COMPUTER and two note items. On Tuesday (2010-10-19) there are two To
Do items and 3 completed (DONE) tasks.
</p>

<p>
This date-tree is the basis of my task management system.
</p>

<p>
Items are added as follows:-
</p>

<ul class="org-ul">
<li><b>Todo</b> items are added with the <b>t</b> capture template. A tag is added to
give context and a scheduled or deadline date can be added with the
appropriate command (<code>C-c s</code> and <code>C-c d</code> respectively)</li>
<li><b>Notes</b> are added with the <b>n</b> capture template.</li>
</ul>

<p>
When I need to decide what to do next, I use the following methods:
</p>

<ul class="org-ul">
<li><b>Agenda view</b> - identify items marked with Scheduled or
Deadline dates</li>
<li><b>Tag</b> view - show tems marked with a tag (my GTD contexts,
eg HOME, OFFICE, FINANCE, READING, DVD)</li>
<li><b>Reviewing this weeks nodes</b> - Each day I quickly scan the
items added since the beginning of the week.</li>
</ul>

<p>
Read <a href="index.html">more articles</a> about org-mode and productivity
</p>
</div>
</div>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2018-09-19</span>
            <span title="last modification date" class="post-info">2018-09-19</span>
            <span title="tags" class="post-info">:<a href="https://lujun9972.github.io/emacs-document/tags/raw">raw</a>:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a></span>
        </div>
    <script src="https://lujun9972.github.io/emacs-document/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2018/09/19/capture-mode-and-date-trees-in-org-mode/";
         var disqus_url = "https://lujun9972.github.io/emacs-document/blog/2018/09/19/capture-mode-and-date-trees-in-org-mode/";
         var disqus_shortname = 'emacs-document';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="https://lujun9972.github.io/emacs-document/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div>
  <!-- https://instant.page/
       Make your site’s pages instant in 1 minute and improve your conversion rate by 1%  -->
  <script src="https://lujun9972.github.io/emacs-document//instant.page/1.1.0" type="module" integrity="sha384-EwBObn5QAxP8f09iemwAJljc+sU+eUXeL9vSBw1eNmVarwhKk2F9vBEpaN9rsrtp"></script>
  </body>
</html>
