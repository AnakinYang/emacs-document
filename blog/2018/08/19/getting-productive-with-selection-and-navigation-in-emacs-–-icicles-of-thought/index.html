<!DOCTYPE html>
<html lang="en">
<head>
  <title>Getting productive with selection and navigation in Emacs – Icicles of thought - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <meta name="keywords" content="raw" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="/media/css/comment.css" type="text/css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="/">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;集思广益</p>
    <nav class="site-nav">
      <div class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" fill="#ffff00"/>
          <path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" fill="#ffff00"/>
          <path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" fill="#ffff00"/>
        </svg>
      </div>
      <ul class="trigger">
        <li><a href="/years/">Years</a></li>
        <li><a href="/authors/">Authors</a></li>
        <li><a href="/tags/">Tags</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document">Github</a></li>
        <li><a href="/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">Getting productive with selection and navigation in Emacs – Icicles of thought</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#marks-and-the-mark-ring">Marks and the Mark Ring</a>
<ul>
<li><a href="#commands-can-operate-on-invisible-regions">Commands can operate on invisible regions</a></li>
<li><a href="#marks-are-useful-by-themselves-for-navigation">Marks are useful by themselves: for navigation</a></li>
<li><a href="#helm-integration">Helm integration</a></li>
</ul>
</li>
<li><a href="#more-on-regions">More on regions</a>
<ul>
<li><a href="#expanding-selections">Expanding selections</a></li>
</ul>
</li>
<li><a href="#expanding-and-narrowing-selections">Expanding and narrowing selections</a></li>
<li><a href="#rectangular-selections">Rectangular selections</a></li>
<li><a href="#other-navigation-tips">Other navigation tips</a>
<ul>
<li><a href="#jumping-to-locations-of-recent-changes">Jumping to locations of recent changes</a></li>
</ul>
</li>
<li><a href="#incremental-search-for-navigation">Incremental search for navigation</a>
<ul>
<li><a href="#isearch-and-marks">ISearch and Marks</a></li>
<li><a href="#helm-swoop">Helm-swoop</a></li>
<li><a href="#avy">Avy</a></li>
</ul>
</li>
<li><a href="#navigating-to-punctuation">Navigating to punctuation</a></li>
<li><a href="#multiple-cursors">Multiple cursors</a></li>
<li><a href="#further-resources">Further resources</a></li>
</ul>
</div>
</div>
<p>
This post is intended to primarily benefit people coming from other, so called “modern” editors to Emacs. Emacs veterans are likely to find most of the tips here very elementary.
</p>

<p>
I have observed that many programmers habituated to newer editors have many implicit assumptions about editing workflows which simply don't hold true within Emacs environment and this prevents them from being productive to the fullest extent.
</p>

<p>
This post primarily focusses on how getting familiar with the concept of <code>marks</code> and <code>regions</code> in Emacs can result in productive workflows. These concepts, coupled with a few extensions can enable much more pleasurable code-editing workflows not easily achievable in more prevalent “modern” editors.
</p>

<div id="outline-container-orgcbc44e5" class="outline-2">
<h2 id="marks-and-the-mark-ring">Marks and the Mark Ring</h2>
<div class="outline-text-2" id="text-marks-and-the-mark-ring">
<p>
Perhaps among the first things which we learn when dipping toes into Emacs is that <code>C-spc</code> is the keybinding used to select region.
</p>

<p>
We start a selection with <code>C-spc</code>, navigate to the the end of what we want to select, and then trigger a command to do something with the selection eg. Cut using <code>C-w</code>, Copy using <code>M-w</code> etc.
</p>

<p>
While the above explanation usually suffices to get people started with elementary usage, the <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Setting-Mark.html">concept of marks</a> gets lost in the process.
</p>

<p>
<code>C-spc</code> (or more accurately <code>set-mark-command</code> which this is key is bound to by default) actually does two things:
</p>

<ul class="org-ul">
<li>Marks the current position of cursor (called <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Point.html">point</a>)</li>
<li>Activates the region between mark and point</li>
</ul>

<p>
Once point has been marked, moving the point by inserting text, navigating etc. changes the active region. This active region, between the point and the mark, is what we see as highlighted. .
</p>

<p>
While this is <i>superficially</i> similar to how selections behave in most other GUI applications, there are some important differences:
</p>
</div>

<div id="outline-container-org238a6a6" class="outline-3">
<h3 id="commands-can-operate-on-invisible-regions">Commands can operate on invisible regions</h3>
<div class="outline-text-3" id="text-commands-can-operate-on-invisible-regions">
<p>
A region is highlighted (visible) when it is active. But commands like kill (cut), kill-ring-save (copy) etc. operate on regions and don't care whether or not the region is active. This can be surprising and may appear to be a bug when a <code>C-w</code> copies away a large chunk of text even if there is no visible selection on screen.
</p>

<p>
While it is <a href="https://emacs.stackexchange.com/questions/2701/only-allow-kill-ring-save-if-there-is-highlighted-text">possible</a> to make Emacs behave like other prevalent editors in this respect, I find the Emacs behavior slightly better.
</p>

<p>
This is because we can set the mark, continue typing, and then once done use <code>C-w</code> to copy the current region. This is useful when we know beforehand that we are going to need what we are typing later, eg. multiple class/interface names which have partially shared names by conventions. We thereby save on the extra navigation that would otherwise be required after typing.
</p>

<p>
Lets say we want to write the following (typescript) code:
</p>

<p>
1
</p>

<p>
2
</p>

<p>
3
</p>

<p>
4
</p>

<p>
5
</p>

<p>
6
</p>

<p>
7
</p>

<p>
 
</p>

<p>
class
</p>

<p>
Foo
</p>

<p>
extens
</p>

<p>
React
</p>

<p>
.
</p>

<p>
Component
</p>

<p>
&lt;
</p>

<p>
FooProps
</p>

<p>
&gt;
</p>

<p>
{
</p>

<p>
}
</p>

<p>
 
</p>

<p>
interface
</p>

<p>
FooProps
</p>

<p>
{
</p>

<p>
}
</p>

<p>
 
</p>

<p>
We see that there is quite a bit of redundancy in the names. We can utilize the above trick when typing to easily having to retype anything.
</p>


<div class="figure">
<p><img src="https://lorefnon.tech/wp-content/uploads/2018/07/emacs-1.gif" alt="emacs-1.gif" />
</p>
</div>

<p>
1
</p>

<p>
2
</p>

<p>
3
</p>

<p>
4
</p>

<p>
5
</p>

<p>
6
</p>

<p>
7
</p>

<p>
8
</p>

<p>
9
</p>

<p>
10
</p>

<p>
11
</p>

<p>
12
</p>

<p>
13
</p>

<p>
14
</p>

<p>
15
</p>

<p>
16
</p>

<p>
17
</p>

<p>
18
</p>

<p>
19
</p>

<p>
20
</p>

<p>
21
</p>

<p>
22
</p>

<p>
23
</p>

<p>
class
</p>

<p>
      \^ C-spc =&gt; Activate mark
</p>

<p>
 
</p>

<p>
class Foo
</p>

<p>
          \^ M-w =&gt; Foo has now been killed (copied)
</p>

<p>
 
</p>

<p>
class Foo extends React.Component&lt;
</p>

<p>
                                  \^ C-spc =&gt; Activate mark
</p>

<p>
 
</p>

<p>
class Foo extends React.Component&lt;
</p>

<p>
                                  \^ C-y =&gt; Yank (paste) Foo
</p>

<p>
 
</p>

<p>
class Foo extends React.Component&lt;FooProps
</p>

<p>
                                          \^ M-w =&gt; FooProps has now been killed (copied)
</p>

<p>
 
</p>

<p>
class Foo extends React.Component&lt;FooProps&gt;
</p>

<p>
 
</p>

<p>
// Later
</p>

<p>
 
</p>

<p>
interface
</p>

<p>
           \^ C-y =&gt; Yank FooProps
</p>

<p>
 
</p>

<p>
interface FooProps {}
</p>
</div>
</div>

<div id="outline-container-orgb383c21" class="outline-3">
<h3 id="marks-are-useful-by-themselves-for-navigation">Marks are useful by themselves: for navigation</h3>
<div class="outline-text-3" id="text-marks-are-useful-by-themselves-for-navigation">
<p>
This is perhaps the <b>least intuitive</b> part. Typing <code>C-u C-spc</code> jumps to a mark. So frequently it is useful to set a mark <i>without</i> needing a selection. Emacs keeps a buffer local history of marks in a <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Mark-Ring.html">mark ring</a>.
</p>

<p>
We can use <code>C-spc C-spc</code> to mark a point without activating a region.
</p>

<p>
I personally prefer a slightly more old-school approach where I have <a href="https://www.emacswiki.org/emacs/TransientMarkMode">transient-mark-mode</a> disabled by default.
</p>

<p>
1
</p>

<p>
2
</p>

<p>
3
</p>

<p>
 
</p>

<p>
(setq deactivate-mark nil)
</p>

<p>
 
</p>

<p>
In this configuration, the regions are not visible by default, and <code>C-spc</code> just sets the mark and does not activate a region.
</p>

<p>
It is occassionally convenient to highlight the region which will be selected, and for these cases we can can press <code>C-spc C-spc</code>. The double invocation temporarily activates the transient mark mode and active regions become visible.
</p>
</div>
</div>

<div id="outline-container-org8fd7a4d" class="outline-3">
<h3 id="helm-integration">Helm integration</h3>
<div class="outline-text-3" id="text-helm-integration">
<p>
Helm is a sophisticated completion system that vastly overhauls the development workflow in Emacs. This tutorial does not focus on helm, an <a href="https://tuhdo.github.io/helm-intro.html">excellent one</a> has already been written by Tuh Do. Helm requires some getting used to, but once habituated, its somewhat unconventional out-of-order matching system gets the job done a lot faster than other prevalent prefix-based or fuzzy-matching completion systems.
</p>

<p>
Helm provides a command <code>helm-mark-ring</code> which shows all active marks in current buffer, and makes it easy to quickly jump to them. There is an analogous command <code>helm-all-mark-rings</code> which shows all marks across buffers.
</p>


<div class="figure">
<p><img src="https://lorefnon.tech/wp-content/uploads/2018/07/Screenshot-from-2018-07-09-01-56-23-1.png" alt="Screenshot-from-2018-07-09-01-56-23-1.png" />
</p>
</div>

<p>
While marks are useful for a small number of recent locations, when we are exploring large projects, it is useful to tag points with a name, which are easy to remember and get back to. This is easily done by <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Bookmarks.html">bookmarks</a>.
</p>

<p>
Not surprisingly helm provides a way to browse bookmarks too.
</p>


<div class="figure">
<p><img src="https://lorefnon.tech/wp-content/uploads/2018/07/Screenshot-from-2018-07-09-02-00-10-e1531511960485.png" alt="Screenshot-from-2018-07-09-02-00-10-e1531511960485.png" />
</p>
</div>

<p>
The bookmark will by default take the name from current region (useful for bookmarking definition sites of symbols in code), or if a region is not active, the current file name.
</p>

<p>
It is also possible to save points to <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Position-Registers.html">registers</a> and access them later, but I don't find myself using them much. Unlike registers, bookmarks are persistend over sessions, and can have descriptive names -- both of which I find desirable when working with larger projects.
</p>
</div>
</div>
</div>

<div id="outline-container-org40217b9" class="outline-2">
<h2 id="more-on-regions">More on regions</h2>
<div class="outline-text-2" id="text-more-on-regions">
<p>
Now that we know about marks, let us focus a bit on regions. As we mentioned above, a region is the area between point and a mark.
</p>

<p>
Regions allow us to perform operations on a selection of text. Like the bookmark-set command described above, many commands have special support for active regions when it makes sense to simplify workflow in the context.
</p>

<p>
Browsing Emacs documentation every once in a while is guaranteed to be a rewarding experience.
</p>
</div>

<div id="outline-container-org4637388" class="outline-3">
<h3 id="expanding-selections">Expanding selections</h3>
<div class="outline-text-3" id="text-expanding-selections">
<p>
In modern editors, we usually select a region by mouse or by use shift+arrow keys and if we realize later that the starting of selection was wrong, maybe we left out a character or a word, woops ! We have to start again.
</p>

<p>
In Emacs this is not the case.
</p>

<p>
Once we have a region, between a point and mark, we can use <code>C-x C-x</code> to exchange the point and the mark. The relevant command is appropriately called exchange-point-and-mark.
</p>

<p>
1
</p>

<p>
2
</p>

<p>
3
</p>

<p>
4
</p>

<p>
5
</p>

<p>
6
</p>

<p>
7
</p>

<p>
8
</p>

<p>
9
</p>

<p>
10
</p>

<p>
11
</p>

<p>
12
</p>

<p>
13
</p>

<p>
14
</p>

<p>
15
</p>

<p>
16
</p>

<p>
17
</p>

<p>
18
</p>

<p>
19
</p>

<p>
20
</p>

<p>
21
</p>

<p>
22
</p>

<p>
23
</p>

<p>
24
</p>

<p>
25
</p>

<p>
26
</p>

<p>
27
</p>

<p>
28
</p>

<p>
29
</p>

<p>
30
</p>

<p>
31
</p>

<p>
32
</p>

<p>
33
</p>

<p>
34
</p>

<p>
35
</p>

<p>
36
</p>

<p>
37
</p>

<p>
38
</p>

<p>
39
</p>

<p>
 
</p>

<p>
Lorem ipsum dolor sit amet
</p>

<p>
      \^ Cursor
</p>

<p>
 
</p>

<p>
 
</p>

<p>
      Point
</p>

<p>
      |
</p>

<p>
      Mark
</p>

<p>
      |
</p>

<p>
Lorem ipsum dolor sit amet
</p>

<p>
      \^ C-spc
</p>

<p>
 
</p>

<p>
 
</p>

<p>
      Mark          Point
</p>

<p>
      | ----region--|
</p>

<p>
      |             |
</p>

<p>
Lorem ipsum dolor sit amet
</p>

<p>
         move       \^
</p>

<p>
         forward -&gt;
</p>

<p>
 
</p>

<p>
 
</p>

<p>
 
</p>

<p>
      Mark          Point
</p>

<p>
      | ----region--|
</p>

<p>
      |             |
</p>

<p>
Lorem ipsum dolor sit amet
</p>

<p>
                    \^
</p>

<p>
                    C-x C-x
</p>

<p>
 
</p>

<p>
 
</p>

<p>
 
</p>

<p>
      Point         Mark
</p>

<p>
      | ----region--|
</p>

<p>
      |             |
</p>

<p>
Lorem ipsum dolor sit amet
</p>

<p>
 
</p>

<p>
     Point and mark interchanged
</p>

<p>
 
</p>

<p>
 
</p>

<p>
Note that we still effectively have the same region. Exchanging point and mark allows us to grow (or shrink) the region from either ends.
</p>
</div>
</div>
</div>

<div id="outline-container-orgaa75956" class="outline-2">
<h2 id="expanding-and-narrowing-selections">Expanding and narrowing selections</h2>
<div class="outline-text-2" id="text-expanding-and-narrowing-selections">
<p>
Why navigation and selection usually coupled, navigation is not always the best option to expand selection.
</p>

<p>
Magnar Sveen has written a very useful package <a href="https://github.com/magnars/expand-region.el">expand-region</a> which allows us to create a region from the point and expand it by semantic units.
</p>

<p>
So first invocation selects a word, and then the next invocation expands the region to a symbol, further to a string, further to the string wrapped in quotes and so on to encompass the whole line and finally the whole buffer.
</p>
</div>
</div>

<div id="outline-container-orgbdf98d9" class="outline-2">
<h2 id="rectangular-selections">Rectangular selections</h2>
<div class="outline-text-2" id="text-rectangular-selections">
<p>
Emacs also provides a somewhat unique feature for selecting two dimensional <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Rectangles.html">rectangles</a> of code. This is useful when working with tabular data, log files etc. as well as when creating ascii art.
</p>

<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/CUA-Bindings.html">CUA bindings</a> come with an enhanced rectangle mode which I prefer over the above.
</p>


<div class="figure">
<p><img src="https://lorefnon.tech/wp-content/uploads/2018/07/Screenshot-from-2018-07-09-02-55-30.png" alt="Screenshot-from-2018-07-09-02-55-30.png" />
</p>
</div>

<p>
One great feature here, is the ability to cycle through the corners and expand the rectangles in all directions
</p>


<div class="figure">
<p><img src="https://lorefnon.tech/wp-content/uploads/2018/07/emacs-2.gif" alt="emacs-2.gif" />
</p>
</div>
</div>
</div>

<div id="outline-container-org4882b04" class="outline-2">
<h2 id="other-navigation-tips">Other navigation tips</h2>
<div class="outline-text-2" id="text-other-navigation-tips">
</div>

<div id="outline-container-org1b767b1" class="outline-3">
<h3 id="jumping-to-locations-of-recent-changes">Jumping to locations of recent changes</h3>
<div class="outline-text-3" id="text-jumping-to-locations-of-recent-changes">
<p>
It is often useful to jump to the location where a change was recently made. The appropriately named <a href="https://www.emacswiki.org/emacs/GotoLastChange">GotoLastChange extension</a> is a very useful one that allows us to travel along the locations of edits.
</p>
</div>
</div>
</div>

<div id="outline-container-orgc61fc1c" class="outline-2">
<h2 id="incremental-search-for-navigation">Incremental search for navigation</h2>
<div class="outline-text-2" id="text-incremental-search-for-navigation">
<p>
Incremental search (<code>C-s</code>) of emacs is really helpful quick navigation. isearch-forward and its regex powered companion isearch-companion-forward quickly become the goto utilities for navigating through large code files.
</p>
</div>

<div id="outline-container-org177241c" class="outline-3">
<h3 id="isearch-and-marks">ISearch and Marks</h3>
<div class="outline-text-3" id="text-isearch-and-marks">
<p>
When you start an incremental search, as you type, your cursor will move to the tail end of the next (best) prefix-match.
</p>

<p>
When you complete the search with enter, the point where the search started is marked. This makes it possible to quickly jump back to the point from where we originally started entering the isearch query.
</p>

<p>
A common error is to assume that the isearch match is an active region. <b>It is not.</b> As should be obvious from the statement above, the region at the point of completion of search, is from the point where started the isearch to the point where the search finished.
</p>

<p>
It is, however, frequently useful to have the matched content as the region, which can be accomplished by marking the head of the current match. This can be done by using <code>C-r</code> to jump to head of current match.
</p>

<p>
1
</p>

<p>
2
</p>

<p>
3
</p>

<p>
4
</p>

<p>
5
</p>

<p>
6
</p>

<p>
7
</p>

<p>
8
</p>

<p>
9
</p>

<p>
10
</p>

<p>
11
</p>

<p>
12
</p>

<p>
13
</p>

<p>
14
</p>

<p>
15
</p>

<p>
16
</p>

<p>
17
</p>

<p>
18
</p>

<p>
19
</p>

<p>
20
</p>

<p>
21
</p>

<p>
22
</p>

<p>
23
</p>

<p>
24
</p>

<p>
25
</p>

<p>
26
</p>

<p>
27
</p>

<p>
28
</p>

<p>
29
</p>

<p>
30
</p>

<p>
31
</p>

<p>
32
</p>

<p>
33
</p>

<p>
34
</p>

<p>
35
</p>

<p>
36
</p>

<p>
37
</p>

<p>
38
</p>

<p>
39
</p>

<p>
40
</p>

<p>
41
</p>

<p>
42
</p>

<p>
43
</p>

<p>
44
</p>

<p>
45
</p>

<p>
46
</p>

<p>
47
</p>

<p>
48
</p>

<p>
49
</p>

<p>
50
</p>

<p>
51
</p>

<p>
52
</p>

<p>
53
</p>

<p>
54
</p>

<p>
55
</p>

<p>
56
</p>

<p>
57
</p>

<p>
58
</p>

<p>
59
</p>

<p>
60
</p>

<p>
61
</p>

<p>
62
</p>

<p>
63
</p>

<p>
64
</p>

<p>
65
</p>

<p>
66
</p>

<p>
67
</p>

<p>
68
</p>

<p>
class SomeClass extends React.Component {
</p>

<p>
\^
</p>

<p>
Original cursor position
</p>

<p>
 
</p>

<p>
 
</p>

<p>
class SomeClass extends React.Component {
</p>

<p>
\^
</p>

<p>
C-s =&gt; Initiate isearch
</p>

<p>
 
</p>

<p>
                              Head end of match
</p>

<p>
                              |  Tail end of match
</p>

<p>
                              |  |
</p>

<p>
class SomeClass extends React.Component {
</p>

<p>
        -- type "comp" --&gt;       \^
</p>

<p>
 
</p>

<p>
 
</p>

<p>
class SomeClass extends React.Component {
</p>

<p>
                                 \^ C-r (Without dismissing the search)
</p>

<p>
 
</p>

<p>
 
</p>

<p>
Mark
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<tbody>
<tr>
</tr>
</tbody>
</table>

<p>
class SomeClass extends React.Component {
</p>

<p>
                              \^ (point moves to head of match)
</p>

<p>
 
</p>

<p>
 
</p>

<p>
class SomeClass extends React.Component {
</p>

<p>
                              \^ C-spc
</p>

<p>
 
</p>

<p>
 
</p>

<p>
Mark                          Mark
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">                            </td>
</tr>
</tbody>
</table>

<p>
class SomeClass extends React.Component {
</p>

<p>
                              \^
</p>

<p>
 
</p>

<p>
 
</p>

<p>
Mark                          Mark
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">                            </td>
</tr>
</tbody>
</table>

<p>
class SomeClass extends React.Component {
</p>

<p>
                              \^ C-s C-s
</p>

<p>
 
</p>

<p>
 
</p>

<p>
Mark                          Mark
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">                            </td>
</tr>
</tbody>
</table>

<p>
class SomeClass extends React.Component {
</p>

<p>
                                 \^ Point moves to tail end of search
</p>

<p>
 
</p>

<p>
 
</p>

<p>
Mark                          Mark
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">                            </td>
</tr>
</tbody>
</table>

<p>
class SomeClass extends React.Component {
</p>

<p>
                                 \^ C-u C-spc
</p>

<p>
 
</p>

<p>
 
</p>

<p>
Mark                          
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">                            </td>
</tr>
</tbody>
</table>

<p>
class SomeClass extends React.Component {
</p>

<p>
                              \^ (point -&gt; mark)
</p>

<p>
 
</p>

<p>
 
</p>

<p>
Mark                          
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">                            </td>
</tr>
</tbody>
</table>

<p>
class SomeClass extends React.Component {
</p>

<p>
                              \^ C-u C-spc
</p>

<p>
 
</p>

<p>
 
</p>

<p>
class SomeClass extends React.Component {
</p>

<p>
\^ (point -&gt; mark)
</p>

<p>
In addition to incremental-search, I have found a few other utilities very helpful for navigating through projects:
</p>
</div>
</div>

<div id="outline-container-orge3a416c" class="outline-3">
<h3 id="helm-swoop">Helm-swoop</h3>
<div class="outline-text-3" id="text-helm-swoop">
<p>
<a href="https://github.com/ShingoFukuyama/helm-swoop">Helm swoop</a> provides an efficient way to find matches across files. It provides a helm friendly way to rapidly jump to a matching line anywhere in the entire project.
</p>

<p>
An example from their <a href="https://github.com/ShingoFukuyama/helm-swoop">home page</a>:
</p>


<div class="figure">
<p><img src="https://raw.githubusercontent.com/ShingoFukuyama/images/master/helm-swoop.gif" alt="helm-swoop.gif" />
</p>
</div>
</div>
</div>

<div id="outline-container-org63f0951" class="outline-3">
<h3 id="avy">Avy</h3>
<div class="outline-text-3" id="text-avy">
<p>
<a href="https://github.com/abo-abo/avy">Avy</a> provides a novel approach that requires fewer keystrokes than an isearch for jumping to a specific location that is already visible. Usually within three keystrokes we can jump to any location in the visible area of the buffer.
</p>


<div class="figure">
<p><img src="https://lorefnon.tech/wp-content/uploads/2018/07/emacs-3.gif" alt="emacs-3.gif" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org133a317" class="outline-2">
<h2 id="navigating-to-punctuation">Navigating to punctuation</h2>
<div class="outline-text-2" id="text-navigating-to-punctuation">
<p>
In programming contexts it is often useful to navigation to punctuation markers close by. Prolific blogger Xah Lee has shared <a href="http://ergoemacs.org/emacs/emacs_jump_to_punctuations.html">some snippets</a> of elisp for achieving the same.
</p>
</div>
</div>

<div id="outline-container-orga0c14cb" class="outline-2">
<h2 id="multiple-cursors">Multiple cursors</h2>
<div class="outline-text-2" id="text-multiple-cursors">
<p>
A feature common now a days in many editors is the support for multiple cursors. It is useful to do things like editing the same text occurring multiple times simultaneously.
</p>


<div class="figure">
<p><img src="https://i.stack.imgur.com/TLZpd.gif" alt="TLZpd.gif" />
</p>
</div>

<p>
If you are really fond of multi-cursor style editing, Magnar once again has you covered with <a href="https://github.com/magnars/multiple-cursors.el">multiple-cursors</a>.
</p>

<p>
I usually prefer a more conventional approach, where we can record an edit action as a macro, and then quickly apply in multiple positions.
</p>

<p>
Emacs Wiki has a <a href="https://www.emacswiki.org/emacs/KeyboardMacros">good overview</a> on usage of macros.
</p>

<p>
The advantage over the multiple-cursor approach in that it is much more powerful and composable with any of the navigation patterns described above.
</p>

<p>
For instance, once a macro has been recorded, it is trivial to use <code>avy</code> to jump to the end of the third word starting with a, and then apply the macro there.
</p>

<p>
The disadvantage of course is that it requires slightly more keystrokes, but often the flexibility is worth it.
</p>

<p>
Another utility I occasionally use is <a href="https://github.com/wence-/elisp/blob/master/multi-region.el">multi-region</a> which makes it very easy to mark multiple regions of text and then run a command scoped to each region.
</p>
</div>
</div>

<div id="outline-container-orgbe45414" class="outline-2">
<h2 id="further-resources">Further resources</h2>
<div class="outline-text-2" id="text-further-resources">
<p>
Of course, Emacs is famously a “self-documenting” editor. So <code>M-x help-with-tutorial</code> and <code>M-x help</code> are the definitive resources for learning Emacs.
</p>

<p>
In addition, following are some great resources I have frequently found useful:
</p>

<ul class="org-ul">
<li><a href="http://pragmaticemacs.com/">Pragmatic Emacs</a></li>
<li><a href="https://www.emacswiki.org/">Emacs Wiki</a></li>
<li><a href="https://www.masteringemacs.org/">Mastering Emacs</a></li>
</ul>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2018-08-19</span>
            <span title="last modification date" class="post-info">2018-08-19</span>
            <span title="tags" class="post-info">:<a href="/tags/raw">raw</a>:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a></span>
        </div>
    <script src="/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2018/08/19/getting-productive-with-selection-and-navigation-in-emacs-–-icicles-of-thought/";
         var disqus_url = "https://lujun9972.github.io/emacs-document/blog/2018/08/19/getting-productive-with-selection-and-navigation-in-emacs-–-icicles-of-thought/";
         var disqus_shortname = 'emacs-document';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div>
  <!-- https://instant.page/
       Make your site’s pages instant in 1 minute and improve your conversion rate by 1%  -->
  <script src="//instant.page/1.1.0" type="module" integrity="sha384-EwBObn5QAxP8f09iemwAJljc+sU+eUXeL9vSBw1eNmVarwhKk2F9vBEpaN9rsrtp"></script>
  </body>
</html>
