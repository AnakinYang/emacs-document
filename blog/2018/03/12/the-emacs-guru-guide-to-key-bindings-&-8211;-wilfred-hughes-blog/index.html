<!DOCTYPE html>
<html lang="en">
<head>
  <title>The Emacs Guru Guide to Key Bindings &amp;#8211; Wilfred Hughes::Blog - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <meta name="keywords" content="raw" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="https://lujun9972.github.io/emacs-document/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="https://lujun9972.github.io/emacs-document/media/css/comment.css" type="text/css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="https://lujun9972.github.io/emacs-document/">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;集思广益</p>
    <nav class="site-nav">
      <div class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" fill="#ffff00"/>
          <path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" fill="#ffff00"/>
          <path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" fill="#ffff00"/>
        </svg>
      </div>
      <ul class="trigger">
        <li><a href="https://lujun9972.github.io/emacs-document/years/">Years</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/authors/">Authors</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/tags/">Tags</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document">Github</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">The Emacs Guru Guide to Key Bindings &amp;#8211; Wilfred Hughes::Blog</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org86ea5a4">The Emacs Guru Guide to Key Bindings</a>
<ul>
<li><a href="#there-are-how-many">There Are <i>How</i> Many?</a></li>
<li><a href="#mnemonic-key-bindings">Mnemonic Key Bindings</a></li>
<li><a href="#organised-key-bindings">Organised Key Bindings</a></li>
<li><a href="#discovering-key-bindings">Discovering Key Bindings</a></li>
<li><a href="#room-for-emacs">Room For Emacs</a></li>
<li><a href="#room-for-you">Room For You</a></li>
<li><a href="#you-make-the-rules">You Make The Rules</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org86ea5a4" class="outline-2">
<h2 id="org86ea5a4">The Emacs Guru Guide to Key Bindings</h2>
<div class="outline-text-2" id="text-org86ea5a4">
<blockquote>
<p>
Imagine that you hold Control and type your name into Emacs. Can you
describe what will happen?
</p>

<p>
-- The ‘Emacs Guru Test'
</p>
</blockquote>

<p>
Emacs shortcuts (known as ‘key bindings') can seem ridiculous to
beginners. Some Emacs users even argue you should change them as soon
as you start using Emacs.
</p>

<p>
They are wrong. In this post, I'll describe the logic behind the Emacs
key bindings. Not only will you be closer to passing the guru test,
but you might even find you like some of the defaults!
</p>
</div>

<div id="outline-container-org32ae7c2" class="outline-3">
<h3 id="there-are-how-many">There Are <i>How</i> Many?</h3>
<div class="outline-text-3" id="text-there-are-how-many">
<p>
Emacs has a <i>ton</i> of key bindings.
</p>

<pre class="example">
ELISP&gt; (length global-map)
143
</pre>

<p>
Emacs is a modal editor, so most key bindings are
mode-specific. However, my current Emacs instance has well over a
hundred global shortcuts that work everywhere.
</p>

<p>
(Keymaps are nested data structures, so this actually undercounts! For
example, <code>C-h C-h</code> and <code>C-h f</code> are not counted separately.)
</p>

<p>
Even that is a drop in the bucket compared with how many commands we
could define key bindings for.
</p>

<pre class="example">
ELISP&gt; (let ((total 0))
 (mapatoms
 (lambda (sym)
 (when (commandp sym)
 (setq total (1+ total)))))
 total)
8612
</pre>

<p>
How can we possibly organise all these commands?
</p>
</div>
</div>

<div id="outline-container-org97ed662" class="outline-3">
<h3 id="mnemonic-key-bindings">Mnemonic Key Bindings</h3>
<div class="outline-text-3" id="text-mnemonic-key-bindings">
<p>
Basic commands are often given key bindings based on their name. You'll
encounter all of these important commands in the Emacs tutorial.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Key Binding</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">e*X*ecute-extended-command</td>
<td class="org-left">M-x</td>
</tr>

<tr>
<td class="org-left">*N*ext-line</td>
<td class="org-left">C-n</td>
</tr>

<tr>
<td class="org-left">*P*revious-line</td>
<td class="org-left">C-p</td>
</tr>

<tr>
<td class="org-left">*F*orward-char</td>
<td class="org-left">C-f</td>
</tr>

<tr>
<td class="org-left">*B*ackward-car</td>
<td class="org-left">C-b</td>
</tr>

<tr>
<td class="org-left">i*S*earch-forward</td>
<td class="org-left">C-s</td>
</tr>
</tbody>
</table>

<p>
Mnemonics are a really effective way of memorising things. If you can
remember the name of the command, you can probably remember the
key binding too.
</p>
</div>
</div>

<div id="outline-container-org2f48c78" class="outline-3">
<h3 id="organised-key-bindings">Organised Key Bindings</h3>
<div class="outline-text-3" id="text-organised-key-bindings">
<p>
Many Emacs movement commands are laid out in a consistent pattern.
</p>

<p>
For example, movement by certain amount:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Key Binding</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">forward-char</td>
<td class="org-left">C-f</td>
</tr>

<tr>
<td class="org-left">forward-word</td>
<td class="org-left">M-f</td>
</tr>

<tr>
<td class="org-left">forward-sexp</td>
<td class="org-left">C-M-f</td>
</tr>
</tbody>
</table>

<p>
Moving to the end of something:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Key Binding</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">move-end-of-line</td>
<td class="org-left">C-e</td>
</tr>

<tr>
<td class="org-left">forward-sentence</td>
<td class="org-left">M-e</td>
</tr>

<tr>
<td class="org-left">end-of-defun</td>
<td class="org-left">C-M-e</td>
</tr>
</tbody>
</table>

<p>
Transposing, which swaps text either side of the cursor:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Key Binding</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">transpose-chars</td>
<td class="org-left">C-t</td>
</tr>

<tr>
<td class="org-left">transpose-words</td>
<td class="org-left">M-t</td>
</tr>

<tr>
<td class="org-left">transpose-sexps</td>
<td class="org-left">C-M-t</td>
</tr>
</tbody>
</table>

<p>
Killing text:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Key Binding</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">kill-line</td>
<td class="org-left">C-k</td>
</tr>

<tr>
<td class="org-left">kill-sentence</td>
<td class="org-left">M-k</td>
</tr>

<tr>
<td class="org-left">kill-sexp</td>
<td class="org-left">C-M-k</td>
</tr>
</tbody>
</table>

<p>
Have you spotted the pattern?
</p>

<p>
The pattern here is that <code>C-whatever</code> commands are usually
small, dumb text operations. <code>M-whatever</code> commands are larger, and
usually operate on words.
</p>

<p>
<code>C-M-whatever</code> commands are slightly magical. These commands
understand the code they're looking at, and operate on whole
expressions. Emacs uses the term ‘sexp' (s-expression), but these
commands usually work in any programming language!
</p>
</div>
</div>

<div id="outline-container-org0fa2021" class="outline-3">
<h3 id="discovering-key-bindings">Discovering Key Bindings</h3>
<div class="outline-text-3" id="text-discovering-key-bindings">
<p>
What happens when you press <code>C-a</code>? Emacs can tell you. <code>C-h k C-a</code>
will show you exactly what command is run.
</p>


<div class="figure">
<p><img src="file:///assets/describe_key.png" alt="describe_key.png" />
</p>
</div>

<p>
If you use a command without its key binding, Emacs will helpfully
remind you there's a shortcut available.
</p>


<div class="figure">
<p><img src="file:///assets/emacs_hint.png" alt="emacs_hint.png" />
</p>
</div>

<p>
You can even do this backwards! If Emacs has done something neat or
unexpected, you might wonder what command ran. <code>C-h l</code> will reveal
what the command was, and exactly which keys triggered it.
</p>


<div class="figure">
<p><img src="file:///assets/view_lossage.png" alt="view_lossage.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgdf540db" class="outline-3">
<h3 id="room-for-emacs">Room For Emacs</h3>
<div class="outline-text-3" id="text-room-for-emacs">
<p>
Why are Emacs key bindings different from conventional shortcuts? Why
doesn't <code>C-c</code> copy text to the clipboard, like many other programs?
</p>

<p>
Emacs uses mnemonics for its clipboard commands: you ‘kill' and ‘yank'
text, so the key bindings are are <code>C-k</code> and <code>C-y</code>. If you really want,
you can use
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/CUA-Bindings.html">cua-mode</a> so
<code>C-x</code> acts as you expect.
</p>

<p>
The problem is that Emacs commands are too versatile, too general to
fit in the usual <code>C-x</code>, <code>C-c</code>, <code>C-v</code>. Emacs has <i>four</i> clipboard
commands:
</p>

<ol class="org-ol">
<li><code>kill</code>: remove text and insert it into the kill-ring. This is like
clipboard cut, but you can do it multiple times and Emacs will
<i>remember every item in your clipboard</i>.</li>
<li><code>kill-ring-save</code>: copy the selected text into the kill-ring. This
is like clipboard copy, but you can also do this multiple times.</li>
<li><code>yank</code>: insert text from the kill-ring. This is like clipboard
paste.</li>
<li><code>yank-pop</code>: replace the previously yanked text with the next item
in the kill ring. There is no equivalent in a single-item clipboard!</li>
</ol>

<p>
The generality of Emacs means that it's hard to find a key binding for
everything. Key bindings tend to be slightly longer as a result:
opening a file is <code>C-x C-f</code>, an additional keystroke over the <code>C-o</code> of
other programs.
</p>
</div>
</div>

<div id="outline-container-org0ef904c" class="outline-3">
<h3 id="room-for-you">Room For You</h3>
<div class="outline-text-3" id="text-room-for-you">
<p>
With all these key bindings already defined, what bindings should
you use for your personal favourite commands?
</p>

<p>
Much like IP addresses <code>192.168.x.x</code> is reserved for private use,
Emacs has
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Key-Binding-Conventions.html">keys that are reserved</a> for
user configuration. All the sequences <code>C-c LETTER</code>, such as <code>C-c a</code>,
are reserved for your usage, as are <code>&lt;F5&gt;</code> through to <code>&lt;F9&gt;</code>.
</p>

<p>
For example, if you find yourself using <code>imenu</code> a lot, you might bind
<code>C-c i</code>:
</p>

<pre class="example">
(global-set-key (kbd "C-c i") #'imenu)
</pre>
</div>
</div>

<div id="outline-container-org0a43bb7" class="outline-3">
<h3 id="you-make-the-rules">You Make The Rules</h3>
<div class="outline-text-3" id="text-you-make-the-rules">
<p>
This doesn't mean that you should never modify key bindings. Emacsers
create
<a href="https://github.com/chrisdone/god-mode">weird</a> <a href="http://melpa.milkbox.net/#/key-chord">and</a> <a href="https://github.com/abo-abo/hydra">wonderful</a> ways
of mapping keys all the time.
</p>

<p>
Emacs will even try to accommodate this. If you open the tutorial
after changing a basic key binding, it will update accordingly!
</p>


<div class="figure">
<p><img src="file:///assets/emacs_tutorial.png" alt="emacs_tutorial.png" />
</p>
</div>

<p>
The secret to mastering Emacs is to remember everything is
self-documenting. Learn the help commands to find out which commands
have default key bindings. Consider <i>following</i> the existing patterns
when you define new key bindings or override existing
ones. <code>org-mode</code>, for example, redefines <code>C-M-t</code> to transpose org
elements.
</p>

<p>
Once you understand the patterns, you'll know when to follow and when
to break them. You'll also be much closer to passing that guru test!
</p>
</div>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2018-03-12</span>
            <span title="last modification date" class="post-info">2018-03-12</span>
            <span title="tags" class="post-info">:<a href="https://lujun9972.github.io/emacs-document/tags/raw">raw</a>:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a></span>
        </div>
    <script src="https://lujun9972.github.io/emacs-document/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2018/03/12/the-emacs-guru-guide-to-key-bindings-&amp;-8211;-wilfred-hughes-blog/";
         var disqus_url = "https://lujun9972.github.io/emacs-document/blog/2018/03/12/the-emacs-guru-guide-to-key-bindings-&amp;-8211;-wilfred-hughes-blog/";
         var disqus_shortname = 'emacs-document';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="https://lujun9972.github.io/emacs-document/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div>
  <!-- https://instant.page/
       Make your site’s pages instant in 1 minute and improve your conversion rate by 1%  -->
  <script src="https://lujun9972.github.io/emacs-document//instant.page/1.1.0" type="module" integrity="sha384-EwBObn5QAxP8f09iemwAJljc+sU+eUXeL9vSBw1eNmVarwhKk2F9vBEpaN9rsrtp"></script>
  </body>
</html>
