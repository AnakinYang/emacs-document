<!DOCTYPE html>
<html lang="en">
<head>
  <title>Emacs org-mode examples and cookbook - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <meta name="keywords" content="raw" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="https://lujun9972.github.io/emacs-document/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="https://lujun9972.github.io/emacs-document/media/css/comment.css" type="text/css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="https://lujun9972.github.io/emacs-document/">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;集思广益</p>
    <nav class="site-nav">
      <div class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" fill="#ffff00"/>
          <path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" fill="#ffff00"/>
          <path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" fill="#ffff00"/>
        </svg>
      </div>
      <ul class="trigger">
        <li><a href="https://lujun9972.github.io/emacs-document/years/">Years</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/authors/">Authors</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/tags/">Tags</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document">Github</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">Emacs org-mode examples and cookbook</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Introduction</a></li>
<li><a href="#sec-2">2 Header</a>
<ul>
<li><a href="#sec-2-1">2.1 General metadata</a></li>
<li><a href="#sec-2-2">2.2 Common export parameters</a></li>
<li><a href="#sec-2-3">2.3 <code>emacs</code> options</a></li>
<li><a href="#sec-2-4">2.4 HTML export options</a></li>
<li><a href="#sec-2-5">2.5 LaTeX export options</a></li>
<li><a href="#sec-2-6">2.6 An example full header</a></li>
</ul>
</li>
<li><a href="#sec-3">3 Setting per-file <code>emacs</code> variables</a></li>
<li><a href="#sec-4">4 Subversion headers and introduction</a></li>
<li><a href="#sec-5">5 <code>ditaa</code> figures</a>
<ul>
<li><a href="#sec-5-1">5.1 About <code>ditaa</code></a></li>
<li><a href="#sec-5-2">5.2 Simple boxes</a></li>
<li><a href="#sec-5-3">5.3 Unseparated boxes</a></li>
<li><a href="#sec-5-4">5.4 Connected elements with colors</a></li>
</ul>
</li>
<li><a href="#sec-6">6 UML diagrams with <code>PlantUML</code></a>
<ul>
<li><a href="#sec-6-1">6.1 Class diagrams</a></li>
<li><a href="#sec-6-2">6.2 Sequences diagrams</a></li>
</ul>
</li>
<li><a href="#sec-7">7 Symbolic algebra with <code>GNU calc</code></a>
<ul>
<li><a href="#sec-7-1">7.1 Calculation using a formula</a></li>
<li><a href="#sec-7-2">7.2 Exporting GNU calc input as well as output</a></li>
<li><a href="#sec-7-3">7.3 Solving formula</a></li>
<li><a href="#sec-7-4">7.4 Solving systems of equations</a></li>
<li><a href="#sec-7-5">7.5 Inverting equations</a></li>
<li><a href="#sec-7-6">7.6 Differentials</a></li>
<li><a href="#sec-7-7">7.7 Integration</a></li>
<li><a href="#sec-7-8">7.8 Taylor series</a></li>
<li><a href="#sec-7-9">7.9 Applying a formula repeatedly in <code>org-mode</code></a></li>
</ul>
</li>
<li><a href="#sec-8">8 Using <code>org-mode</code> as a spread sheet</a>
<ul>
<li><a href="#sec-8-1">8.1 Define one column using a formula in terms of others</a></li>
<li><a href="#sec-8-2">8.2 Using an arbitrary code block as a table formula</a></li>
</ul>
</li>
<li><a href="#sec-9">9 LaTeX equations</a>
<ul>
<li><a href="#sec-9-1">9.1 Inline equations</a></li>
<li><a href="#sec-9-2">9.2 Simple equations</a></li>
<li><a href="#sec-9-3">9.3 Aligned sets of equations</a></li>
</ul>
</li>
<li><a href="#sec-10">10 Inline formula</a></li>
<li><a href="#sec-11">11 Figures and tables with captions and labels</a></li>
<li><a href="#sec-12">12 Figures and tables spanning multiple text columns</a></li>
<li><a href="#sec-13">13 Verbatim examples</a></li>
<li><a href="#sec-14">14 Code examples</a></li>
<li><a href="#sec-15">15 Running code, returning raw output</a></li>
<li><a href="#sec-16">16 Running code, return <code>org-mode</code> tables</a></li>
<li><a href="#sec-17">17 Running code remotely</a></li>
<li><a href="#sec-18">18 Running C code</a></li>
<li><a href="#sec-19">19 Running java code</a></li>
<li><a href="#sec-20">20 Margin notes in LaTeX</a></li>
<li><a href="#sec-21">21 Querying a <code>PostgreSQL</code> database</a></li>
<li><a href="#sec-22">22 Interacting with <code>R</code></a>
<ul>
<li><a href="#sec-22-1">22.1 Using an <code>org-mode</code> table as an R data frame</a></li>
<li><a href="#sec-22-2">22.2 Generate a plot in your document using <code>R</code></a></li>
<li><a href="#sec-22-3">22.3 Generating an <code>org-mode</code> table from an <code>R</code> data frame</a></li>
</ul>
</li>
<li><a href="#sec-23">23 Interacting with <code>python</code></a>
<ul>
<li><a href="#sec-23-1">23.1 Using an <code>org-mode</code> table in python</a></li>
<li><a href="#sec-23-2">23.2 Plotting with python</a></li>
</ul>
</li>
<li><a href="#sec-24">24 Setting environment variables (like <code>PYTHONPATH</code>)</a></li>
<li><a href="#sec-25">25 Writing literate <code>python</code> code</a>
<ul>
<li><a href="#sec-25-1">25.1 Creating the high level structure of the file</a></li>
<li><a href="#sec-25-2">25.2 Generating functionality for <code>HelloWorld.py</code></a></li>
<li><a href="#sec-25-3">25.3 Generating a <code>main</code> function for <code>HelloWorld</code></a></li>
<li><a href="#sec-25-4">25.4 Running main from bash</a></li>
</ul>
</li>
<li><a href="#sec-26">26 Doing automated testing of literate <code>python</code> programs</a>
<ul>
<li><a href="#sec-26-1">26.1 Making <code>test_HelloWorld.txt</code></a></li>
<li><a href="#sec-26-2">26.2 Running just the doctests</a></li>
<li><a href="#sec-26-3">26.3 Defining <code>unittest</code> tests</a></li>
<li><a href="#sec-26-4">26.4 Making <code>TestHelloWorld.py</code></a></li>
<li><a href="#sec-26-5">26.5 Running all tests</a></li>
</ul>
</li>
<li><a href="#sec-27">27 Generating an <code>org-mode</code> source block within an <code>org-mode</code> document</a></li>
<li><a href="#sec-28">28 LaTeX presentations with beamer</a></li>
</ul>
</div>
</div>


<div id="outline-container-org06637b6" class="outline-2">
<h2 id="sec-1">1 Introduction</h2>
<div class="outline-text-2" id="text-sec-1">
<p>
This document provides examples of different things that can be done
in <code>emacs</code> <code>org-mode</code> files. This is <b>not</b> intended to be a
tutorial. The examples should provide a clue of what you need to look
up in the <a href="http://orgmode.org/#docs">org-mode manual</a>.
</p>
</div>
</div>

<div id="outline-container-orgcf1defa" class="outline-2">
<h2 id="sec-2">2 Header</h2>
<div class="outline-text-2" id="text-sec-2">
<p>
The first set of lines of an <code>org-mode</code> file, each starting with <code>#+</code>,
configure <code>org-mode</code>'s interpretation of the remainder of the file.
</p>
</div>

<div id="outline-container-org9222eb7" class="outline-3">
<h3 id="sec-2-1">2.1 General metadata</h3>
<div class="outline-text-3" id="text-sec-2-1">
<p>
An initial group sets the metadata used in any title pages, headers,
footers, etc. used by the various exporters:
</p>

<pre class="example">
#+TITLE: Emacs org-mode examples
#+AUTHOR: Eric H. Neilsen, Jr.
#+EMAIL: neilsen@fnal.gov
</pre>
</div>
</div>

<div id="outline-container-org56242bf" class="outline-3">
<h3 id="sec-2-2">2.2 Common export parameters</h3>
<div class="outline-text-3" id="text-sec-2-2">
<p>
Configue the <code>org-mode</code> tags for forcing inclusion of exclusion of
sections in exported documents
</p>

<pre class="example">
#+EXPORT_SELECT_TAGS: export
#+EXPORT_EXCLUDE_TAGS: noexport
</pre>

<p>
Additional options handle interpretation of special characters in the
buffer, numbering of headings, etc.
</p>

<pre class="example">
#+OPTIONS: H:2 num:nil toc:nil \n:nil @:t ::t |:t ^:{} _:{} *:t TeX:t LaTeX:t
</pre>
</div>
</div>

<div id="outline-container-orgd5fb1d0" class="outline-3">
<h3 id="sec-2-3">2.3 <code>emacs</code> options</h3>
<div class="outline-text-3" id="text-sec-2-3">
<p>
THE <code>STARTUP</code> keyword sets how the buffer is displayed when the file
is opened in <code>emacs</code>:
</p>

<pre class="example">
#+STARTUP: showall
</pre>
</div>
</div>

<div id="outline-container-org5056780" class="outline-3">
<h3 id="sec-2-4">2.4 HTML export options</h3>
<div class="outline-text-3" id="text-sec-2-4">
<p>
A few other are used exclusively by the <code>html</code> exporter:
</p>

<pre class="example">
#+LANGUAGE: en
#+INFOJS_OPT: view:showall toc:t ltoc:t mouse:underline path:http://orgmode.org/org-info.js
#+LINK_HOME: http://ehneilsen.net
#+LINK_UP: http://ehneilsen.net/notebook
#+HTML_HEAD: &lt;link rel="stylesheet" type="text/css" href="../css/notebook.css" /&gt;
</pre>

<p>
The <code>LANGUAGE</code> keyword sets the <code>lang</code> option in the <code>html</code>
declaration.
</p>

<p>
The <code>INFOJS_OPT</code> keyword configures the <a href="http://orgmode.org/manual/JavaScript-support.html">org-info.js</a>, javascript used
to assist navigation of <code>org-mode</code> generated pages.
</p>
</div>
</div>

<div id="outline-container-org7418f8f" class="outline-3">
<h3 id="sec-2-5">2.5 LaTeX export options</h3>
<div class="outline-text-3" id="text-sec-2-5">
<p>
The LaTeX class and any LaTeX commands to be included at the head of
exported LaTeX files. For example, on my laptop the header looks like this:
</p>

<pre class="example">
#+LaTeX_CLASS: smarticle
#+LaTeX_HEADER: \pdfmapfile{/home/neilsen/texmf/fonts/map/dvips/libertine/libertine.map}
#+LaTeX_HEADER: \usepackage[ttscale=.875]{libertine}
#+LaTeX_HEADER: \usepackage{sectsty}
#+LaTeX_HEADER: \sectionfont{\normalfont\scshape}
#+LaTeX_HEADER: \subsectionfont{\normalfont\itshape}
</pre>

<p>
It looks a little different in my account on the DES cluster:
</p>

<pre class="example">
#+LaTeX_CLASS: smarticle
#+LaTeX_HEADER: \pdfmapfile{/home/s1/neilsen/texmf/fonts/map/dvips/libertine/libertine.map}
#+LaTeX_HEADER: \usepackage{sectsty}
#+LaTeX_HEADER: \usepackage{libertine}
#+LaTeX_HEADER: \usepackage[T1]{fontenc}
#+LaTeX_HEADER: \sectionfont{\normalfont\scshape}
#+LaTeX_HEADER: \subsectionfont{\normalfont\itshape}
</pre>

<p>
Of course, LaTeX should be installed, and for the above to work, so
must the libertine package, and the pdfmapfile must be set.
</p>

<p>
LaTeX installaction instruction can be found <a href="http://en.wikibooks.org/wiki/LaTeX/Installing_Extra_Packages">here</a>.
</p>
</div>
</div>

<div id="outline-container-orgd4af214" class="outline-3">
<h3 id="sec-2-6">2.6 An example full header</h3>
<div class="outline-text-3" id="text-sec-2-6">
<p>
A typical header that I use for <code>org-mode</code> files:
</p>

<pre class="example">
#+TITLE: Emacs org-mode examples
#+AUTHOR: Eric H. Neilsen, Jr.
#+EMAIL: neilsen@fnal.gov
#+LANGUAGE: en
#+INFOJS_OPT: view:showall toc:t ltoc:t mouse:underline path:http://orgmode.org/org-info.js
#+LINK_HOME: http://ehneilsen.net
#+LINK_UP: http://ehneilsen.net/notebook
#+HTML_HEAD: &lt;link rel="stylesheet" type="text/css" href="../css/notebook.css" /&gt;
#+LaTeX_CLASS: smarticle
#+LaTeX_HEADER: \pdfmapfile{/home/neilsen/texmf/fonts/map/dvips/libertine/libertine.map}
#+LaTeX_HEADER: \usepackage[ttscale=.875]{libertine}
#+LaTeX_HEADER: \usepackage{sectsty}
#+LaTeX_HEADER: \sectionfont{\normalfont\scshape}
#+LaTeX_HEADER: \subsectionfont{\normalfont\itshape}
#+EXPORT_SELECT_TAGS: export
#+EXPORT_EXCLUDE_TAGS: noexport
#+OPTIONS: H:2 num:nil toc:nil \n:nil @:t ::t |:t ^:{} _:{} *:t TeX:t LaTeX:t
#+STARTUP: showall
</pre>
</div>
</div>
</div>

<div id="outline-container-org616f639" class="outline-2">
<h2 id="sec-3">3 Setting per-file <code>emacs</code> variables</h2>
<div class="outline-text-2" id="text-sec-3">
<p>
Follow the <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Specifying-File-Variables.html">instructions in the emacs manual</a>; begin the file with a
line of the form:
</p>

<pre class="example">
# -*- foo: "bar"; baz: "ham" -*-
</pre>

<p>
For example, to set the "Up" and "Home" links for an org-mode file,
begin it with:
</p>

<pre class="example">
# -*- org-html-link-up: "http://decam03.fnal.gov:8080/notes/neilsen/"; org-html-link-home: "http://ehneilsen.net" -*-
</pre>
</div>
</div>

<div id="outline-container-org720c950" class="outline-2">
<h2 id="sec-4">4 Subversion headers and introduction</h2>
<div class="outline-text-2" id="text-sec-4">
<p>
If you wish to have subversion keyword substitution, it can be done like this:
</p>

<pre class="example">
- Revision :: $Revision: 1.3 $
- Date :: $Date: 2013/05/17 15:19:53 $
- Source :: $Source: /Users/neilsen/Documents/CTIOTime/RCS/ctio_time.org,v $
</pre>

<p>
The result looks like this:
</p>

<dl class="org-dl">
<dt>Revision </dt><dd>$Revision: 1.3 $</dd>
<dt>Date </dt><dd>$Date: 2013/05/17 15:19:53 $</dd>
<dt>Source </dt><dd>$Source: /Users/neilsen/Documents/CTIOTime/RCS/ctio\_time.org,v $</dd>
</dl>
</div>
</div>

<div id="outline-container-org67fad54" class="outline-2">
<h2 id="sec-5">5 <code>ditaa</code> figures</h2>
<div class="outline-text-2" id="text-sec-5">
</div>

<div id="outline-container-org18498f3" class="outline-3">
<h3 id="sec-5-1">5.1 About <code>ditaa</code></h3>
<div class="outline-text-3" id="text-sec-5-1">
<p>
<code>dataa</code> generates figures from ASCII "art". Examples of <code>ditaa</code> syntax
can be found <a href="http://ditaa.sourceforge.net/">here</a>.
</p>
</div>
</div>

<div id="outline-container-orgb352d69" class="outline-3">
<h3 id="sec-5-2">5.2 Simple boxes</h3>
<div class="outline-text-3" id="text-sec-5-2">
<pre class="example">
#+begin_src ditaa :file ditaa-simpleboxes.png
+---------+
| |
| Foo |
| |
+----+----+---+
|Bar |Baz |
| | |
+----+--------+
#+end_src
</pre>


<div class="figure">
<p><img src="ditaa-simpleboxes.png" alt="ditaa-simpleboxes.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org8fda1a8" class="outline-3">
<h3 id="sec-5-3">5.3 Unseparated boxes</h3>
<div class="outline-text-3" id="text-sec-5-3">
<pre class="example">
#+begin_src ditaa :file ditaa-simpleboxes-unsep.png :cmdline -E
+---------+
| |
| Foo |
| |
+----+----+---+
|Bar |Baz |
| | |
+----+--------+
#+end_src
</pre>


<div class="figure">
<p><img src="ditaa-simpleboxes-unsep.png" alt="ditaa-simpleboxes-unsep.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgb01fb15" class="outline-3">
<h3 id="sec-5-4">5.4 Connected elements with colors</h3>
<div class="outline-text-3" id="text-sec-5-4">
<pre class="example">
#+begin_src ditaa :file ditaa-seqboxes.png
+------+ +-----+ +-----+ +-----+
|{io} | |{d} | |{s} | |cBLU |
| Foo +---+ Bar +---+ Baz +---+ Moo |
| | | | | | | |
+------+ +-----+ +--+--+ +-----+
 |
 /-----\ | +------+
 | | | | c1AB |
 | Goo +------+---=--+ Shoo |
 \-----/ | |
 +------+
#+end_src
</pre>


<div class="figure">
<p><img src="ditaa-seqboxes.png" alt="ditaa-seqboxes.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org9dbbcef" class="outline-2">
<h2 id="sec-6">6 UML diagrams with <code>PlantUML</code></h2>
<div class="outline-text-2" id="text-sec-6">
</div>

<div id="outline-container-org75b66a9" class="outline-3">
<h3 id="sec-6-1">6.1 Class diagrams</h3>
<div class="outline-text-3" id="text-sec-6-1">
<p>
This:
</p>

<pre class="example">
#+begin_src plantuml :file class_diagram.png
skinparam monochrome true
FitsHdu &lt;|-- PrimaryHdu
FitsHdu &lt;|-- ExtensionHdu

FitsHdu : header
FitsHdu : getHeaderKeyword()

ExtensionHdu &lt;|-- ImageHdu
ImageHdu : image
ImageHdu : getPixel(row, column)

ExtensionHdu &lt;|-- BinaryTableHdu
BinaryTableHdu : table
BinaryTableHdu : getRow(row)
BinaryTableHdu : getColumn(column)
#+end_src
</pre>

<p>
gives this:
</p>


<div class="figure">
<p><img src="class_diagram.png" alt="class_diagram.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org2d2cbcf" class="outline-3">
<h3 id="sec-6-2">6.2 Sequences diagrams</h3>
<div class="outline-text-3" id="text-sec-6-2">
<p>
This:
</p>

<pre class="example">
#+begin_src plantuml :file sequence_diagram.png
skinparam monochrome true
 Foo -&gt; Bar: synchronous call
 Foo -&gt;&gt; Bar: asynchronous call
#+end_src
</pre>

<p>
results in this:
</p>


<div class="figure">
<p><img src="sequence_diagram.png" alt="sequence_diagram.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf60060f" class="outline-2">
<h2 id="sec-7">7 Symbolic algebra with <code>GNU calc</code></h2>
<div class="outline-text-2" id="text-sec-7">
<p>
Full documentation on how to use <code>GNU calc</code> can be found
<a href="http://www.gnu.org/software/emacs/manual/html_node/calc/Algebra.html">here</a>. Same examples:
</p>
</div>

<div id="outline-container-orgd20c0c0" class="outline-3">
<h3 id="sec-7-1">7.1 Calculation using a formula</h3>
<div class="outline-text-3" id="text-sec-7-1">
<p>
Starting with this:
</p>

<pre class="example">
#+BEGIN_SRC calc :var x=5 :var y=2
2+a*x**y
#+END_SRC
</pre>

<p>
If you place the cursor on the <code>#+BEGIN_SRC</code> and hit ctrl-c <i>twice</i>,
it will produce a "results" section thus:
</p>

<pre class="example">
#+BEGIN_SRC calc :var x=5 :var y=2
2+a*x**y
#+END_SRC

#+RESULTS:
: 25 a + 2
</pre>

<p>
Which results in this if the exported document
</p>

<pre class="example">
2+a*x**y
</pre>
</div>
</div>

<div id="outline-container-org109b7d4" class="outline-3">
<h3 id="sec-7-2">7.2 Exporting GNU calc input as well as output</h3>
<div class="outline-text-3" id="text-sec-7-2">
<p>
If you want the original formula in the exported document, you need to
add an <code>:exports both</code> flag, thus:
</p>

<pre class="example">
#+BEGIN_SRC calc :exports both
x*2+x=4
#+END_SRC

#+results:
: 3 x = 4
</pre>

<p>
Which results in this:
</p>

<pre class="example">
x*2+x=4
</pre>

<pre class="example">
3 x = 4
</pre>
</div>
</div>

<div id="outline-container-org3bbfb7f" class="outline-3">
<h3 id="sec-7-3">7.3 Solving formula</h3>
<div class="outline-text-3" id="text-sec-7-3">
<p>
<code>GNU calc</code> has many additional capabilities. It can be used to solve formula:
</p>

<pre class="example">
#+BEGIN_SRC calc :exports both
fsolve(x*2+x=4,x)
#+END_SRC

#+results:
: x = 1.33333333333
</pre>

<p>
which exports to:
</p>

<pre class="example">
fsolve(x*2+x=4,x)
</pre>

<pre class="example">
x = 1.33333333333
</pre>
</div>
</div>

<div id="outline-container-org9f31093" class="outline-3">
<h3 id="sec-7-4">7.4 Solving systems of equations</h3>
<div class="outline-text-3" id="text-sec-7-4">
<pre class="example">
#+BEGIN_SRC calc
fsolve([x + y = a, x - y = b],[x,y])
#+END_SRC

#+RESULTS:
: [x = a + (b - a) / 2, y = (a - b) / 2]
</pre>
</div>
</div>

<div id="outline-container-org56bff24" class="outline-3">
<h3 id="sec-7-5">7.5 Inverting equations</h3>
<div class="outline-text-3" id="text-sec-7-5">
<pre class="example">
#+BEGIN_SRC calc :exports both
finv(sqrt(x),x)
#+END_SRC

#+results:
: x^2
</pre>
</div>
</div>

<div id="outline-container-org52b4f50" class="outline-3">
<h3 id="sec-7-6">7.6 Differentials</h3>
<div class="outline-text-3" id="text-sec-7-6">
<pre class="example">
#+BEGIN_SRC calc :exports both
deriv(sqrt(x),x)
#+END_SRC

#+RESULTS:
: 0.5 / sqrt(x)
</pre>
</div>
</div>

<div id="outline-container-orgc4ed7af" class="outline-3">
<h3 id="sec-7-7">7.7 Integration</h3>
<div class="outline-text-3" id="text-sec-7-7">
<pre class="example">
#+BEGIN_SRC calc :exports both
integ(x**2,x)
#+END_SRC

#+RESULTS:
: x^3 / 3
</pre>
</div>
</div>

<div id="outline-container-org33b1d5a" class="outline-3">
<h3 id="sec-7-8">7.8 Taylor series</h3>
<div class="outline-text-3" id="text-sec-7-8">
<pre class="example">
#+BEGIN_SRC calc :exports both
taylor(sin(x),x,6)
#+END_SRC

#+RESULTS:
: 0.0174532925199 x - 8.86096155693e-7 x^3 + 1.34960162314e-11 x^5
</pre>
</div>
</div>

<div id="outline-container-org2d88349" class="outline-3">
<h3 id="sec-7-9">7.9 Applying a formula repeatedly in <code>org-mode</code></h3>
<div class="outline-text-3" id="text-sec-7-9">
<pre class="example">
#+name: myformula
#+BEGIN_SRC calc
2+a*x**y
#+END_SRC

#+BEGIN_SRC calc :noweb yes :var x=5 :var y=2
&lt;&lt;myformula&gt;&gt;
#+END_SRC

#+RESULTS:
: 25 a + 2

#+BEGIN_SRC calc :noweb yes :var x=10 :var y=2
&lt;&lt;myformula&gt;&gt;
#+END_SRC

#+RESULTS:
: 100 a + 2
</pre>

<p>
You can accomplish roughtly the same thing like this:
</p>

<pre class="example">
#+NAME: mynewformula
#+BEGIN_SRC calc
2+a*x**y
#+END_SRC

#+CALL: mynewformula(x=10,y=2)

#+RESULTS:
: 100 a + 2
</pre>

<pre class="example">
2+a*x**y
</pre>

<pre class="example">
100 a + 2
</pre>

<p>
The first mechanism is somewhat more versatile, as you can combine
multiple code blocks.
</p>
</div>
</div>
</div>

<div id="outline-container-org79fcd51" class="outline-2">
<h2 id="sec-8">8 Using <code>org-mode</code> as a spread sheet</h2>
<div class="outline-text-2" id="text-sec-8">
</div>

<div id="outline-container-org739c74a" class="outline-3">
<h3 id="sec-8-1">8.1 Define one column using a formula in terms of others</h3>
<div class="outline-text-3" id="text-sec-8-1">
<pre class="example">
| airmass | zenith_seeing | delivered_seeing |
|---------+---------------+------------------|
| 1.3 | 0.95 | 1.1119612 |
| 1.3 | 1.0 | 1.1704854 |
| 1.3 | 1.1 | 1.2875340 |
| 1.3 | 1.2 | 1.4045825 |
| 1.3 | 1.25 | 1.4631068 |
| 1.3 | 1.3 | 1.5216311 |
| 1.3 | 1.5 | 1.7557281 |
| 1.3 | 1.8 | 2.1068738 |
| 1.2 | 1.8 | 2.0080811 |
| 1.3 | 2.0 | 2.3409709 |
#+TBLFM: $3=$2*($1**0.6)
</pre>

<p>
results in this in the output:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">airmass</th>
<th scope="col" class="org-right">zenith\_seeing</th>
<th scope="col" class="org-right">delivered\_seeing</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1.3</td>
<td class="org-right">0.95</td>
<td class="org-right">1.1119612</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.0</td>
<td class="org-right">1.1704854</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.1</td>
<td class="org-right">1.2875340</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.2</td>
<td class="org-right">1.4045825</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.25</td>
<td class="org-right">1.4631068</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.3</td>
<td class="org-right">1.5216311</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.5</td>
<td class="org-right">1.7557281</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.8</td>
<td class="org-right">2.1068738</td>
</tr>

<tr>
<td class="org-right">1.2</td>
<td class="org-right">1.8</td>
<td class="org-right">2.0080811</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">2.1</td>
<td class="org-right">2.4580194</td>
</tr>
</tbody>
</table>

<p>
To recalculate the column, put the cursor on the <code>#+TBLFM</code> column and
hit ctrl-c <i>twice</i>.
</p>
</div>
</div>

<div id="outline-container-org90a3f77" class="outline-3">
<h3 id="sec-8-2">8.2 Using an arbitrary code block as a table formula</h3>
<div class="outline-text-3" id="text-sec-8-2">
<p>
This:
</p>

<pre class="example">
#+NAME: sampformula
#+BEGIN_SRC python :var angle=90 :var r=2 :exports none
from math import radians, cos
result = r*cos(radians(angle))
return result
#+END_SRC

| angle | r | x |
|-------+----+---------------|
| 30 | 10 | 8.66025403784 |
| 45 | 10 | 7.07106781187 |
| 60 | 10 | 5.0 |
#+TBLFM: $3='(org-sbe "sampformula" (angle $1) (r $2))
</pre>

<p>
Results in this:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">angle</th>
<th scope="col" class="org-right">r</th>
<th scope="col" class="org-right">x</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">30</td>
<td class="org-right">10</td>
<td class="org-right">8.66025403784</td>
</tr>

<tr>
<td class="org-right">45</td>
<td class="org-right">10</td>
<td class="org-right">7.07106781187</td>
</tr>

<tr>
<td class="org-right">60</td>
<td class="org-right">10</td>
<td class="org-right">5.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orgb8bafba" class="outline-2">
<h2 id="sec-9">9 LaTeX equations</h2>
<div class="outline-text-2" id="text-sec-9">
</div>

<div id="outline-container-orgab2647c" class="outline-3">
<h3 id="sec-9-1">9.1 Inline equations</h3>
<div class="outline-text-3" id="text-sec-9-1">
<p>
This:
</p>

<pre class="example">
Foo bar \(f(x) = \frac{x^3}{n}\) chicken checken.
</pre>

<p>
renders as this:
</p>

<p>
Foo bar \(f(x) = \frac{x\^3}{n}\) chicken checken.
</p>
</div>
</div>

<div id="outline-container-orgecec3a8" class="outline-3">
<h3 id="sec-9-2">9.2 Simple equations</h3>
<div class="outline-text-3" id="text-sec-9-2">
<p>
This:
</p>

<pre class="example">
Our best estimate of F(\nu) will be 
\[
\hat{F}(\nu) = \frac{G(\nu)}{H(\nu)}.
\]
</pre>

<p>
renders as this:
</p>

<p>
Our best estimate of F(ν) will be
\[
\hat{F}(\nu) = \frac{G(\nu)}{H(\nu)}.
\]
</p>
</div>
</div>

<div id="outline-container-orgc77b649" class="outline-3">
<h3 id="sec-9-3">9.3 Aligned sets of equations</h3>
<div class="outline-text-3" id="text-sec-9-3">
<p>
This:
</p>

<pre class="example">
\begin{eqnarray*}
\hat{f}(x) &amp; \propto &amp; \sum_{\nu} \frac{|F(\nu)H(\nu)|^2}{|N(\nu)|^2} 
 \frac{G(\nu)}{H(\nu)} e^{\frac{2 \pi i \nu x}{N}}\\
 &amp; \propto &amp; \sum_{\nu} \frac{|F(\nu)|^2}{|N(\nu)|^2} H(\nu) H^*(\nu) 
 \frac{G(\nu)}{H(\nu)} e^{\frac{2 \pi i \nu x}{N}}\\
 &amp; \propto &amp; \sum_{\nu} H^*(\nu) G(\nu) e^{\frac{2 \pi i \nu x}{N}}
\end{eqnarray*}
</pre>

<p>
renders as this:
</p>

\begin{eqnarray*}
\hat{f}(x) & \propto & \sum\_{\nu} \frac{|F(\nu)H(\nu)|\^2}{|N(\nu)|\^2}
\frac{G(\nu)}{H(\nu)} e\^{\frac{2 \pi i \nu x}{N}}\\
& \propto & \sum\_{\nu} \frac{|F(\nu)|\^2}{|N(\nu)|\^2} H(\nu) H\^*(\nu)
\frac{G(\nu)}{H(\nu)} e\^{\frac{2 \pi i \nu x}{N}}\\
& \propto & \sum\_{\nu} H\^*(\nu) G(\nu) e\^{\frac{2 \pi i \nu x}{N}}
\end{eqnarray*}
</div>
</div>
</div>

<div id="outline-container-orgc8022f8" class="outline-2">
<h2 id="sec-10">10 Inline formula</h2>
<div class="outline-text-2" id="text-sec-10">
<p>
<code>org-mode</code> can have automatically calcualted inline formula. For
example, this:
</p>

<pre class="example">
The scaling for 1.3 airmasses is src_R{format(1.3**(3.0/5.0),digits=3)} =1.17= 

The scaling for 1.3 airmasses is src_calc{round(1.3**(3.0/5.0),4)} =1.1705=

The scaling for 1.3 airmasses is src_python{return "%4.1f" % (1.3**(3.0/5.0))} =1.2=
</pre>

<p>
produces this:
</p>

<p>
The scaling for 1.3 airmasses is <code>1.17</code>
</p>

<p>
The scaling for 1.3 airmasses is <code>1.1705</code>
</p>

<p>
The scaling for 1.3 airmasses is <code>1.2</code>
</p>

<p>
Calculations can be repeated by putting the cursor on the formula and
hitting ctrl-c twice.
</p>
</div>
</div>

<div id="outline-container-orgb0157ca" class="outline-2">
<h2 id="sec-11">11 Figures and tables with captions and labels</h2>
<div class="outline-text-2" id="text-sec-11">
<pre class="example">
#+CAPTION: This was the ditaa example
#+LABEL: fig:ditaaex
#+ATTR_LaTeX: width=5cm,angle=90
file:ditaa-simpleboxes.png

This is some sample text in which I reference \ref{fig:ditaaex}.
</pre>


<div class="figure">
<p><img src="ditaa-simpleboxes.png" alt="ditaa-simpleboxes.png" />
</p>
</div>

<p>
Figure 6: This was the ditaa example
</p>

<p>
This is some sample text in which I reference \ref{fig:ditaaex}.
</p>

<p>
(The reference works in LaTeX, but not html export.)
</p>

<p>
More elaborate LaTeX attributes can be used:
</p>

<pre class="example">
#+ATTR_LaTeX: width=0.38\textwidth wrap placement={r}{0.4\textwidth}
</pre>

<p>
Captions and references can also be applied to tables.
</p>
</div>
</div>

<div id="outline-container-orgd36a9d1" class="outline-2">
<h2 id="sec-12">12 Figures and tables spanning multiple text columns</h2>
<div class="outline-text-2" id="text-sec-12">
<p>
Images, plots, code listings, and tables often need to span multiple
text columns to fit when exporting to multi-column latex styles. This
can be done by preceeding the relevant block with
a <code>#+ATTR_LATEX: :float multicolumn</code> line, for example:
</p>

<pre class="example">
#+CAPTION: This is a wide table
#+ATTR_LATEX: :float multicolumn
| A | B | C | D | E | F | G | H |
|---------+------------+---------+------------+---------+------------+---------+------------|
| foo bar | baz boggle | foo bar | baz boggle | foo bar | baz boggle | foo bar | baz boggle |
| foo bar | baz boggle | foo bar | baz boggle | foo bar | baz boggle | foo bar | baz boggle |
| foo bar | baz boggle | foo bar | baz boggle | foo bar | baz boggle | foo bar | baz boggle |
</pre>

<p>
or
</p>

<pre class="example">
#+CAPTION: Here is my python code.
#+ATTR_LATEX: :float multicolumn
#+BEGIN_SRC python
print "This is a longish line of code that needs to span multiple columns in a latex export"
#+END_SRC
</pre>
</div>
</div>

<div id="outline-container-org6714b8d" class="outline-2">
<h2 id="sec-13">13 Verbatim examples</h2>
<div class="outline-text-2" id="text-sec-13">
<p>
Verbatim example code can be marked. For example, this:
</p>

<pre class="example">
#+BEGIN_EXAMPLE
Last login: Mon Dec 2 08:44:25 on ttys000
argos:~ neilsen$ echo "foo"
foo
argos:~ neilsen$ 
</pre>
<p>
#+END_EXAMPLE
</p>

<p>
results in this:
</p>

<pre class="example">
Last login: Mon Dec 2 08:44:25 on ttys000
argos:~ neilsen$ echo "foo"
foo
argos:~ neilsen$
</pre>
</div>
</div>

<div id="outline-container-orgbcf9208" class="outline-2">
<h2 id="sec-14">14 Code examples</h2>
<div class="outline-text-2" id="text-sec-14">
<p>
Source code can be displayed using the native modes in <code>emacs</code>. For
example, this:
</p>

<pre class="example">
#+BEGIN_SRC python
 def times_two(x):
 y = x*2
 return y

 print times_two(5) 
#+END_SRC
</pre>

<p>
produces this:
</p>

<pre class="example">
def times_two(x):
y = x*2
return y

print times_two(5)
</pre>
</div>
</div>

<div id="outline-container-org600c222" class="outline-2">
<h2 id="sec-15">15 Running code, returning raw output</h2>
<div class="outline-text-2" id="text-sec-15">
<p>
This:
</p>

<pre class="example">
#+BEGIN_SRC python :results output :exports both
 def times_two(x):
 y = x*2
 return y

 print times_two(5) 
#+END_SRC

#+RESULTS:
: 10
</pre>

<p>
produces this:
</p>

<pre class="example">
def times_two(x):
y = x*2
return y

print times_two(5)
</pre>

<pre class="example">
10
</pre>
</div>
</div>

<div id="outline-container-org240a495" class="outline-2">
<h2 id="sec-16">16 Running code, return <code>org-mode</code> tables</h2>
<div class="outline-text-2" id="text-sec-16">
<p>
This:
</p>

<pre class="example">
#+BEGIN_SRC python :exports both
a = ('b', 200)
b = ('x', 10)
c = ('q', -42)
return (a, b, c)
#+END_SRC

#+RESULTS:
| b | 200 |
| x | 10 |
| q | -42 |
</pre>

<p>
produces this:
</p>

<pre class="example">
a = ('b', 200)
b = ('x', 10)
c = ('q', -42)
return (a, b, c)
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">b</td>
<td class="org-right">200</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-right">-42</td>
</tr>
</tbody>
</table>

<p>
By removing the <code>:exports both</code>, you can export just the code and not
the output. By replaceing it with <code>:exports results</code>, you can export
the output without the source.
</p>
</div>
</div>

<div id="outline-container-org64085c3" class="outline-2">
<h2 id="sec-17">17 Running code remotely</h2>
<div class="outline-text-2" id="text-sec-17">
<p>
Adding appropriate <code>:dir</code> parameters runs the code in other working
direcories, or even on remote machines:
</p>

<pre class="example">
#+BEGIN_SRC sh :results output :exports both
echo $PWD
echo $HOSTNAME
#+END_SRC

#+RESULTS:
: /Users/neilsen/Notebook/org/orgExamples
: argos.dhcp.fnal.gov

#+BEGIN_SRC sh :results output :exports both :dir /tmp
echo $PWD
echo $HOSTNAME
#+END_SRC

#+RESULTS:
: /private/tmp
: argos.dhcp.fnal.gov

#+BEGIN_SRC sh :results output :exports both :dir :dir /ssh:neilsen@decam03.fnal.gov:/home/neilsen
echo $PWD
echo $HOSTNAME
#+END_SRC

#+RESULTS:
: /home/neilsen
: decam03.fnal.gov
</pre>
</div>
</div>

<div id="outline-container-orgd2de3e7" class="outline-2">
<h2 id="sec-18">18 Running C code</h2>
<div class="outline-text-2" id="text-sec-18">
<p>
C code is handled a little differently, as it must be compiled and run.
</p>

<p>
This block:
</p>

<pre class="example">
#+HEADERS: :includes &lt;math.h&gt; :flags -lm 
#+HEADERS: :var x=1.0 :var y=4.0 :var z=10.0
#+BEGIN_SRC C :exports both
double pi = 4*atan(1);
double r, theta, phi;
r = sqrt(x*x+y*y+z*z);
theta = acos(z/r) 0_sync_master.sh 1_add_new_article_manual.sh 1_add_new_article_newspaper.sh 2_start_translating.sh 3_continue_the_work.sh 4_finish.sh 5_pause.sh base.sh parse_url_by_manual.sh parse_url_by_newspaper.py parse_url_by_newspaper.sh project.cfg reformat.sh urls_checker.sh 180.0/pi;
phi = atan2(y,x) 0_sync_master.sh 1_add_new_article_manual.sh 1_add_new_article_newspaper.sh 2_start_translating.sh 3_continue_the_work.sh 4_finish.sh 5_pause.sh base.sh parse_url_by_manual.sh parse_url_by_newspaper.py parse_url_by_newspaper.sh project.cfg reformat.sh urls_checker.sh 180.0/pi;
printf("%f %f %f", r, theta, phi);
#+END_SRC
</pre>

<p>
Generates, compiles, and runs this C code:
</p>

<pre class="example">
#include &lt;math.h&gt;

double x = 1.000000;
double y = 4.000000;
double z = 10.000000;
int main() {
double pi = 4*atan(1);
double r, theta, phi;
r = sqrt(x*x+y*y+z*z);
theta = acos(z/r) 0_sync_master.sh 1_add_new_article_manual.sh 1_add_new_article_newspaper.sh 2_start_translating.sh 3_continue_the_work.sh 4_finish.sh 5_pause.sh base.sh parse_url_by_manual.sh parse_url_by_newspaper.py parse_url_by_newspaper.sh project.cfg reformat.sh urls_checker.sh 180.0/pi;
phi = atan2(y,x) 0_sync_master.sh 1_add_new_article_manual.sh 1_add_new_article_newspaper.sh 2_start_translating.sh 3_continue_the_work.sh 4_finish.sh 5_pause.sh base.sh parse_url_by_manual.sh parse_url_by_newspaper.py parse_url_by_newspaper.sh project.cfg reformat.sh urls_checker.sh 180.0/pi;
printf("%f %f %f", r, theta, phi);
return 0;
}
</pre>

<p>
which results in:
</p>

<pre class="example">
#+RESULTS:
: 10.816654 22.406871 75.963757
</pre>

<p>
So the final result looks like this when evaluated and exported:
</p>

<pre class="example">
double pi = 4*atan(1);
double r, theta, phi;
r = sqrt(x*x+y*y+z*z);
theta = acos(z/r) 0_sync_master.sh 1_add_new_article_manual.sh 1_add_new_article_newspaper.sh 2_start_translating.sh 3_continue_the_work.sh 4_finish.sh 5_pause.sh base.sh parse_url_by_manual.sh parse_url_by_newspaper.py parse_url_by_newspaper.sh project.cfg reformat.sh urls_checker.sh 180.0/pi;
phi = atan2(y,x) 0_sync_master.sh 1_add_new_article_manual.sh 1_add_new_article_newspaper.sh 2_start_translating.sh 3_continue_the_work.sh 4_finish.sh 5_pause.sh base.sh parse_url_by_manual.sh parse_url_by_newspaper.py parse_url_by_newspaper.sh project.cfg reformat.sh urls_checker.sh 180.0/pi;
printf("%f %f %f", r, theta, phi);
</pre>

<pre class="example">
10.816654 22.406871 75.963757
</pre>

<p>
There is a trick to multiple includes: they must be passed as elisp lists, for example:
</p>

<pre class="example">
#+BEGIN_SRC C :includes '(&lt;math.h&gt; &lt;time.h&gt;)
</pre>
</div>
</div>

<div id="outline-container-org7816f89" class="outline-2">
<h2 id="sec-19">19 Running java code</h2>
<div class="outline-text-2" id="text-sec-19">
<p>
Java code can be evaluated as well, for example:
</p>

<pre class="example">
#+HEADERS: :classname HelloWorld :cmdline "-cp ."
#+begin_src java :results output :exports both
 public class HelloWorld {
 public static void main(String[] args) {
 System.out.println("Hello, World");
 }
 }
#+end_src

#+RESULTS:
: Hello, World
</pre>

<p>
This exports to:
</p>

<pre class="example">
public class HelloWorld {
public static void main(String[] args) {
System.out.println("Hello, World");
}
}
</pre>

<pre class="example">
Hello, World
</pre>
</div>
</div>

<div id="outline-container-orge0ba798" class="outline-2">
<h2 id="sec-20">20 Margin notes in LaTeX</h2>
<div class="outline-text-2" id="text-sec-20">
<p>
Margin notes can be generated for the latex export, but not in a way
portable to other export methods (like html):
</p>

<pre class="example">
#+BEGIN_LaTeX
\marginpar{\color{blue} \tiny \raggedright
\vspace{18pt}
In the Molly 23 layout, not all tilings have the same numbers of
hexes (pointings); the offsets for each tiling can push different hexes into or
out of the footprint.}
#+END_LaTeX
</pre>

<p>
The vspace help tweak the placement to put it next the text you want
it next to.
</p>

<p>
Note that you can use the same trick with figure. If you use the
<code>capt-of</code> latex package, you can even get the figure numbered
correctly. For example,
</p>

<pre class="example">
#+BEGIN_LATEX
\marginpar{
\includegraphics[width=\marginparwidth]{test_img.png}
\captionof{figure}{This is a test figure}\label{testimg}
}
#+END_LATEX
</pre>

<p>
If you have fiddled with the margins using the LaTeX <code>geometry</code>
package, be sure to set the <code>marginparwidth</code> parameter in your
<code>geometry</code> statement.
</p>
</div>
</div>

<div id="outline-container-orgc27212a" class="outline-2">
<h2 id="sec-21">21 Querying a <code>PostgreSQL</code> database</h2>
<div class="outline-text-2" id="text-sec-21">
<p>
Provided your account is configured with appropriate passwords, this:
</p>

<pre class="example">
#+BEGIN_SRC sql :engine postgresql :exports results :cmdline -p 5443 -h des20.fnal.gov -U decam_reader -d decam_prd
SELECT date, ra, declination FROM exposure.exposure LIMIT 10
#+END_SRC
</pre>

<p>
Results in this:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">date</th>
<th scope="col" class="org-right">ra</th>
<th scope="col" class="org-right">declination</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">2013-06-04 21:48:01.54791+00</td>
<td class="org-right">271.125446</td>
<td class="org-right">-31.316167</td>
</tr>

<tr>
<td class="org-left">2013-06-04 21:48:38.329063+00</td>
<td class="org-right">271.125446</td>
<td class="org-right">-31.316167</td>
</tr>

<tr>
<td class="org-left">2013-04-25 00:09:21.976324+00</td>
<td class="org-right">144.404229</td>
<td class="org-right">15.058917</td>
</tr>

<tr>
<td class="org-left">2013-01-11 03:16:40.700054+00</td>
<td class="org-right">111.02375</td>
<td class="org-right">-1.490556</td>
</tr>

<tr>
<td class="org-left">2013-03-17 19:36:44.482928+00</td>
<td class="org-right">200.013333</td>
<td class="org-right">-20.65</td>
</tr>

<tr>
<td class="org-left">2013-06-24 07:12:00.531216+00</td>
<td class="org-right">9.5</td>
<td class="org-right">-43.998</td>
</tr>

<tr>
<td class="org-left">2013-06-12 01:42:20.851991+00</td>
<td class="org-right">269.261287</td>
<td class="org-right">-27.892739</td>
</tr>

<tr>
<td class="org-left">2013-06-24 07:15:49.054427+00</td>
<td class="org-right">9.5</td>
<td class="org-right">-43.998</td>
</tr>

<tr>
<td class="org-left">2013-09-02 20:25:33.523124+00</td>
<td class="org-right">50</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">2013-09-02 20:26:24.503093+00</td>
<td class="org-right">50</td>
<td class="org-right">0</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org49221e3" class="outline-2">
<h2 id="sec-22">22 Interacting with <code>R</code></h2>
<div class="outline-text-2" id="text-sec-22">
</div>

<div id="outline-container-org31434e3" class="outline-3">
<h3 id="sec-22-1">22.1 Using an <code>org-mode</code> table as an R data frame</h3>
<div class="outline-text-3" id="text-sec-22-1">
<p>
If you have an <code>org-mode</code> table with a name:
</p>

<pre class="example">
#+tblname: delsee
| airmass | zenith_seeing | delivered_seeing |
|---------+---------------+------------------|
| 1.3 | 0.95 | 1.1119612 |
| 1.3 | 1.0 | 1.1704854 |
| 1.3 | 1.1 | 1.2875340 |
| 1.3 | 1.2 | 1.4045825 |
#+TBLFM: $3=$2*($1**0.6)
</pre>

<p>
you can use it from within <code>R</code> code as a data frame:
</p>

<pre class="example">
#+begin_src R :results output :var delsee=delsee 
summary(delsee)
#+end_src

#+RESULTS:
: airmass zenith_seeing delivered_seeing
: Min. :1.3 Min. :0.9500 Min. :1.112 
: 1st Qu.:1.3 1st Qu.:0.9875 1st Qu.:1.156 
: Median :1.3 Median :1.0500 Median :1.229 
: Mean :1.3 Mean :1.0625 Mean :1.244 
: 3rd Qu.:1.3 3rd Qu.:1.1250 3rd Qu.:1.317 
: Max. :1.3 Max. :1.2000 Max. :1.405
</pre>
</div>
</div>

<div id="outline-container-orgee10b95" class="outline-3">
<h3 id="sec-22-2">22.2 Generate a plot in your document using <code>R</code></h3>
<div class="outline-text-3" id="text-sec-22-2">
<p>
This:
</p>

<pre class="example">
#+tblname: delsee
| airmass | zenith_seeing | delivered_seeing |
|---------+---------------+------------------|
| 1.3 | 0.95 | 1.1119612 |
| 1.3 | 1.0 | 1.1704854 |
| 1.3 | 1.1 | 1.2875340 |
| 1.3 | 1.2 | 1.4045825 |
#+TBLFM: $3=$2*($1**0.6)

#+begin_src R :exports both :results output graphics :var delsee=delsee :file delsee-r.png :width 400 :height 300
library(ggplot2)
p &lt;- ggplot(delsee, aes(zenith_seeing, delivered_seeing))
p &lt;- p + geom_point()
p
#+end_src

#+RESULTS:
file:delsee-r.png
</pre>

<p>
Results in this:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">airmass</th>
<th scope="col" class="org-right">zenith\_seeing</th>
<th scope="col" class="org-right">delivered\_seeing</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1.3</td>
<td class="org-right">0.95</td>
<td class="org-right">1.1119612</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.0</td>
<td class="org-right">1.1704854</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.1</td>
<td class="org-right">1.2875340</td>
</tr>

<tr>
<td class="org-right">1.3</td>
<td class="org-right">1.2</td>
<td class="org-right">1.4045825</td>
</tr>
</tbody>
</table>

<pre class="example">
library(ggplot2)
p &lt;- ggplot(delsee, aes(zenith_seeing, delivered_seeing))
p &lt;- p + geom_point()
p
</pre>


<div class="figure">
<p><img src="delsee-r.png" alt="delsee-r.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgdcdadda" class="outline-3">
<h3 id="sec-22-3">22.3 Generating an <code>org-mode</code> table from an <code>R</code> data frame</h3>
<div class="outline-text-3" id="text-sec-22-3">
<p>
The simple way is just to return the value of the data frame:
</p>

<pre class="example">
#+BEGIN_SRC R :colnames yes
d &lt;- data.frame(foo=c('a','b','n'), bar=c(1.0/3.0,22,32))
d
#+END_SRC

#+RESULTS:
| foo | bar |
|-----+-------------------|
| a | 0.333333333333333 |
| b | 22 |
| n | 32 |
</pre>

<p>
To limit significant figures, use the <code>ascii</code> <code>R</code> package. For
example, this:
</p>

<pre class="example">
#+BEGIN_SRC R :results output raw :exports both
d &lt;- data.frame(foo=c('a','b','n'), bar=c(1.0/3.0,22,32))

library(ascii)
options(asciiType="org")
ascii(d,format=c('s','f'),digits=c(5,4),include.rownames=FALSE)
#+END_SRC

#+RESULTS:
| foo | bar |
|-----+---------|
| a | 0.3333 |
| b | 22.0000 |
| n | 32.0000 |
</pre>

<p>
produces this:
</p>

<pre class="example">
d &lt;- data.frame(foo=c('a','b','n'), bar=c(1.0/3.0,22,32))

library(ascii)
options(asciiType="org")
ascii(d,format=c('s','f'),digits=c(5,4),include.rownames=FALSE)
</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">foo</th>
<th scope="col" class="org-right">bar</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">a</td>
<td class="org-right">0.3333</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">22.0000</td>
</tr>

<tr>
<td class="org-left">n</td>
<td class="org-right">32.0000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orgf9a6e4a" class="outline-2">
<h2 id="sec-23">23 Interacting with <code>python</code></h2>
<div class="outline-text-2" id="text-sec-23">
</div>

<div id="outline-container-org32b8e73" class="outline-3">
<h3 id="sec-23-1">23.1 Using an <code>org-mode</code> table in python</h3>
<div class="outline-text-3" id="text-sec-23-1">
<pre class="example">
#+tblname: delsee
| airmass | zenith_seeing | delivered_seeing |
|---------+---------------+------------------|
| 1.3 | 0.95 | 1.1119612 |
| 1.3 | 1.0 | 1.1704854 |
| 1.3 | 1.1 | 1.2875340 |
| 1.3 | 1.2 | 1.4045825 |
#+TBLFM: $3=$2*($1**0.6)

#+BEGIN_SRC python :var delsee=delsee :results output
print delsee
#+END_SRC

#+RESULTS:
: [[1.3, 0.95, 1.1119612], [1.3, 1.0, 1.1704854], [1.3, 1.1, 1.287534], [1.3, 1.2, 1.4045825]]
</pre>
</div>
</div>

<div id="outline-container-orga8db636" class="outline-3">
<h3 id="sec-23-2">23.2 Plotting with python</h3>
<div class="outline-text-3" id="text-sec-23-2">
<p>
This:
</p>

<pre class="example">
#+tblname: delsee
| airmass | zenith_seeing | delivered_seeing |
|---------+---------------+------------------|
| 1.3 | 0.95 | 1.1119612 |
| 1.3 | 1.0 | 1.1704854 |
| 1.3 | 1.1 | 1.2875340 |
| 1.3 | 1.2 | 1.4045825 |
#+TBLFM: $3=$2*($1**0.6)

#+BEGIN_SRC python :var fname="delseepy.png" :var delsee=delsee :results file
import matplotlib.pyplot as plt

x, y, z = zip(*delsee)

fig = plt.figure()
axes = fig.add_subplot(1,1,1)
axes.plot(y, z, marker='o')
fig.savefig(fname)

return fname
#+END_SRC

#+RESULTS:
file:delseepy.png
</pre>

<p>
Results in this:
</p>


<div class="figure">
<p><img src="delseepy.png" alt="delseepy.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org46c6381" class="outline-2">
<h2 id="sec-24">24 Setting environment variables (like <code>PYTHONPATH</code>)</h2>
<div class="outline-text-2" id="text-sec-24">
<p>
Create an <code>emacs-lisp</code> code block that looks like this:
</p>

<pre class="example">
#+BEGIN_SRC emacs-lisp
(setenv "PYTHONPATH" "/Users/neilsen/Development/obswatch-trunk/common/python")
#+END_SRC
</pre>

<p>
Execute it, and it changes the environment accordingly.
</p>

<p>
Note that you can also append to environment variables like this:
</p>

<pre class="example">
#+BEGIN_SRC emacs-lisp
(setenv "PYTHONPATH" (concat (getenv "PYTHONPATH") ":" (getenv "DQSTATS_DIR")))
#+END_SRC
</pre>
</div>
</div>

<div id="outline-container-org2a6e96b" class="outline-2">
<h2 id="sec-25">25 Writing literate <code>python</code> code</h2>
<div class="outline-text-2" id="text-sec-25">
</div>

<div id="outline-container-org17598b4" class="outline-3">
<h3 id="sec-25-1">25.1 Creating the high level structure of the file</h3>
<div class="outline-text-3" id="text-sec-25-1">
<p>
Following the structure outlined in <a href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html#module-structure">Code Like a Pythonista</a>, construct
the python source file in sections:
</p>

<pre class="example">
#+BEGIN_SRC python :noweb yes :tangle HelloWorld.py :exports none
"""This is a hello world example document"""

# imports
import sys
&lt;&lt;helloworld-main-imports&gt;&gt;

# constants

# exception classes

# interface functions

# classes
&lt;&lt;HelloWorld-defn&gt;&gt;

# internal functions &amp; classes

&lt;&lt;helloworld-main&gt;&gt;

if __name__ == '__main__':
 status = main()
 sys.exit(status)
#+END_SRC
</pre>

<p>
When <code>M-x org-babel-tangle</code> is run within <code>emacs</code>, the
<code>:tangle HelloWorld.py</code> line will cause it to generate a the file
<code>HelloWorld.py</code> from the contents of the code blocks.
</p>

<p>
The bracketed lines (<code>helloworld-classes</code>, for example) are code
fragments that will be defined later. <code>org-mode</code> will automatically
substitute these blocks when createing the <code>HelloWorld.py</code> file.
</p>
</div>
</div>

<div id="outline-container-orga7e7522" class="outline-3">
<h3 id="sec-25-2">25.2 Generating functionality for <code>HelloWorld.py</code></h3>
<div class="outline-text-3" id="text-sec-25-2">
<p>
Define the <code>HelloWorld</code> class thus:
</p>

<pre class="example">
#+NAME: HelloWorld-defn
#+BEGIN_SRC python
 class HelloWorld(object):
 def __init__(self, who):
 self.who = who

 def say_hello(self):
 print "Hello %s" % self.who
#+END_SRC
</pre>

<p>
In the org-mode document, it will look like this:
</p>

<pre class="example">
class HelloWorld(object):
def __init__(self, who):
self.who = who

def say_hello(self):
print "Hello %s" % self.who
</pre>
</div>
</div>

<div id="outline-container-orgf57e515" class="outline-3">
<h3 id="sec-25-3">25.3 Generating a <code>main</code> function for <code>HelloWorld</code></h3>
<div class="outline-text-3" id="text-sec-25-3">
<p>
It's usually a good idea to have an argument parser in <code>main</code>. Start
by creating a code block the performs the required imports:
</p>

<pre class="example">
#+NAME: helloworld-main-imports
#+BEGIN_SRC python
from argparse import ArgumentParser
#+END_SRC
</pre>

<p>
which comes out like this in the document:
</p>

<pre class="example">
from argparse import ArgumentParser
</pre>

<p>
Then, define the <code>main</code> function itself:
</p>

<pre class="example">
#+NAME: helloworld-main
#+BEGIN_SRC python
 def main():
 parser = ArgumentParser(description="Say hi")
 parser.add_argument("-w", "--who", 
 type=str,
 default="world",
 help="Who to say hello to")
 args = parser.parse_args()

 who = args.who

 greeter = HelloWorld(who)
 greeter.say_hello()

 return 0
#+END_SRC
</pre>

<p>
which comes out like this:
</p>

<pre class="example">
def main():
parser = ArgumentParser(description="Say hi")
parser.add_argument("-w", "--who", 
type=str,
default="world",
help="Who to say hello to")
args = parser.parse_args()

who = args.who

greeter = HelloWorld(who)
greeter.say_hello()

return 0
</pre>
</div>
</div>

<div id="outline-container-orge965d66" class="outline-3">
<h3 id="sec-25-4">25.4 Running main from bash</h3>
<div class="outline-text-3" id="text-sec-25-4">
<p>
Create a section to make it easy to run the generated code from within
the orgmode document:
</p>

<pre class="example">
#+NAME: bashrun-helloworld
#+BEGIN_SRC sh :results output :exports none
python HelloWorld.py --w Eric 2&gt;&amp;1
true
#+END_SRC
</pre>

<p>
The "true" command at the end of this shell script makes sure that the
output gets incorportated into the <code>org-mode</code> buffer even if the code
crashes.
</p>

<p>
The output looks like this in your orgmode buffer:
</p>

<pre class="example">
python HelloWorld.py --w Eric 2&gt;&amp;1
true
</pre>

<pre class="example">
Hello Eric
</pre>
</div>
</div>
</div>

<div id="outline-container-org0c9e59f" class="outline-2">
<h2 id="sec-26">26 Doing automated testing of literate <code>python</code> programs</h2>
<div class="outline-text-2" id="text-sec-26">
</div>

<div id="outline-container-orgc0cb8b1" class="outline-3">
<h3 id="sec-26-1">26.1 Making <code>test_HelloWorld.txt</code></h3>
<div class="outline-text-3" id="text-sec-26-1">
<p>
Create interactive tests. It's a good idea to use the restructured
text mode in emacs, so that the result can be a ReStructuredText test
document, traditional to <code>python</code>.
</p>

<p>
Here is one, for example:
</p>

<pre class="example">
#+NAME: doctest-foo
#+BEGIN_SRC rst
 example foo::
 &gt;&gt;&gt; from HelloWorld import *
 &gt;&gt;&gt;
 &gt;&gt;&gt; foo = HelloWorld('foo')
 &gt;&gt;&gt; foo.say_hello()
 Hello foo

#+END_SRC
</pre>

<p>
and another:
</p>

<pre class="example">
#+NAME: doctest-bar
#+BEGIN_SRC rst
 example bar::
 &gt;&gt;&gt; from HelloWorld import *
 &gt;&gt;&gt;
 &gt;&gt;&gt; bar = HelloWorld('bar')
 &gt;&gt;&gt; bar.say_hello()
 Hello bar

#+END_SRC
</pre>

<p>
Create a document to "tangle" them into
</p>

<pre class="example">
#+BEGIN_SRC text :noweb yes :tangle test_HelloWorld.txt :exports none
&lt;&lt;doctest-foo&gt;&gt;
&lt;&lt;doctest-bar&gt;&gt;
#+END_SRC
</pre>
</div>
</div>

<div id="outline-container-org720b389" class="outline-3">
<h3 id="sec-26-2">26.2 Running just the doctests</h3>
<div class="outline-text-3" id="text-sec-26-2">
<p>
You can run the doctests from with <code>org-mode</code> with this bash code snippet:
</p>

<pre class="example">
#+NAME: bashrun-helloworld-doctest
#+BEGIN_SRC sh :results output :exports both
python -m doctest test_HelloWorld.txt 2&gt;&amp;1
true
#+END_SRC
</pre>

<p>
If the test succeeds, it will produce no output
</p>
</div>
</div>

<div id="outline-container-org4033226" class="outline-3">
<h3 id="sec-26-3">26.3 Defining <code>unittest</code> tests</h3>
<div class="outline-text-3" id="text-sec-26-3">
<p>
Define the unit test like any other piece of <code>python</code> code:
</p>

<pre class="example">
#+NAME: unittest-foo
#+BEGIN_SRC python
 class TestFoo(unittest.TestCase):
 def test_foo(self):
 greeter = HelloWorld('foo')
 self.assertEqual(greeter.who, 'foo')
#+END_SRC
</pre>
</div>
</div>

<div id="outline-container-org2893bd6" class="outline-3">
<h3 id="sec-26-4">26.4 Making <code>TestHelloWorld.py</code></h3>
<div class="outline-text-3" id="text-sec-26-4">
<p>
Define the main testing module like this:
</p>

<pre class="example">
#+BEGIN_SRC python :noweb yes :tangle TestHelloWorld.py :exports none
 import sys
 import unittest
 from doctest import DocFileSuite
 from HelloWorld import *

 &lt;&lt;unittest-foo&gt;&gt;

 def main():
 suite = unittest.TestSuite()
 suite.addTests( DocFileSuite('test_HelloWorld.txt') )
 suite.addTests( 
 unittest.defaultTestLoader.loadTestsFromModule(sys.modules[__name__]))
 unittest.TextTestRunner(verbosity=2).run(suite)
 return 0

 if __name__ == '__main__':
 status = main()
 sys.exit(status)
#+END_SRC
</pre>
</div>
</div>

<div id="outline-container-orgd6bcc3b" class="outline-3">
<h3 id="sec-26-5">26.5 Running all tests</h3>
<div class="outline-text-3" id="text-sec-26-5">
<p>
Use this <code>bash</code> source block to run all tests:
</p>

<pre class="example">
#+NAME: bashrun-helloworld-alltest
#+BEGIN_SRC sh :results output :exports both
python -m doctest test_HelloWorld.py 2&gt;&amp;1
#+END_SRC
</pre>

<p>
The output looks like this:
</p>

<pre class="example">
python TestHelloWorld.py 2&gt;&amp;1
</pre>

<pre class="example">
test_HelloWorld.txt
Doctest: test_HelloWorld.txt ... ok
test_foo (__main__.TestFoo) ... ok

----------------------------------------------------------------------
Ran 2 tests in 0.004s

OK
</pre>
</div>
</div>
</div>

<div id="outline-container-org9ae101f" class="outline-2">
<h2 id="sec-27">27 Generating an <code>org-mode</code> source block within an <code>org-mode</code> document</h2>
<div class="outline-text-2" id="text-sec-27">
<p>
This document often needs to quote org-mode code within org-mode,
which is slightly tricky, because you need to escape the <code>#+END_SRC</code>
block. Do this using a comma in the first line. So to get this:
</p>

<pre class="example">
#+BEGIN_SRC python
print "foo"
#+END_SRC
</pre>

<p>
Do this:
</p>

<pre class="example">
#+BEGIN_SRC org
#+BEGIN_SRC python
print "foo"
#+END_SRC
#+END_SRC
</pre>

<p>
Sometimes additional elements (particularly lines with special meaning
in org-mode, like those starting with <code>#</code> or <code>*</code>) need escaping with a
comma as well, but not always.
</p>
</div>
</div>

<div id="outline-container-org98ef03a" class="outline-2">
<h2 id="sec-28">28 LaTeX presentations with beamer</h2>
<div class="outline-text-2" id="text-sec-28">
<p>
To generate a presentation PDF file using the beamer mode in LaTeX, do
something like this:
</p>

<pre class="example">
#+TITLE:
#+AUTHOR:
#+OPTIONS: H:1 toc:nil \n:nil @:t ::t |:t ^:t *:t TeX:t LaTeX:t
#+LATEX_CLASS: beamer
#+LATEX_CLASS_OPTIONS: [presentation]
#+BEAMER_THEME: default
#+BEAMER_FONT_THEME: default
#+BEAMER_COLOR_THEME: dove
#+COLUMNS: %45ITEM %10BEAMER_ENV(Env) %10BEAMER_ACT(Act) %4BEAMER_COL(Col) %8BEAMER_OPT(Opt)
#+STARTUP: beamer

* Slide one

 - Foo
 + baz
 + qux
 - Bar


* Next slide foo

 - Foo
 + baz
 + qux
 - Bar
</pre>

<p>
The present <code>#+TITLE:</code> and <code>#+AUTHOR:</code> lines without values prevent
the generation of a title page. If these have values, a title pages is
generated.
</p>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2018-02-14</span>
            <span title="last modification date" class="post-info">2018-02-14</span>
            <span title="tags" class="post-info">:<a href="https://lujun9972.github.io/emacs-document/tags/raw">raw</a>:</span>
            <span title="author" class="post-info"><a href="mailto:neilsen &lt;at&gt; fnal &lt;dot&gt; gov">lujun9972</a></span>
        </div>
    <script src="https://lujun9972.github.io/emacs-document/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/blog/2018/02/14/emacs-org-mode-examples-and-cookbook/";
         var disqus_url = "https://lujun9972.github.io/emacs-document/blog/2018/02/14/emacs-org-mode-examples-and-cookbook/";
         var disqus_shortname = 'emacs-document';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="https://lujun9972.github.io/emacs-document/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:neilsen &lt;at&gt; fnal &lt;dot&gt; gov">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div>
  <!-- https://instant.page/
       Make your site’s pages instant in 1 minute and improve your conversion rate by 1%  -->
  <script src="https://lujun9972.github.io/emacs-document//instant.page/1.1.0" type="module" integrity="sha384-EwBObn5QAxP8f09iemwAJljc+sU+eUXeL9vSBw1eNmVarwhKk2F9vBEpaN9rsrtp"></script>
  </body>
</html>
