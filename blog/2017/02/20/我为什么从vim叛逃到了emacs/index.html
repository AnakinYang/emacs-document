<!DOCTYPE html>
<html lang="en">
<head>
  <title>我为什么从Vim叛逃到了Emacs - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <meta name="keywords" content="emacs-common" />
  <!-- <link rel="stylesheet" href="https://lujun9972.github.io/emacs-document/media/css/main.css" type="text/css"/>
       <link rel="stylesheet" href="https://lujun9972.github.io/emacs-document/media/css/comment.css" type="text/css"/> -->
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/kognise/water.css@latest/dist/dark.css'>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="https://lujun9972.github.io/emacs-document/">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;集思广益</p>
    <nav class="site-nav">
      <ul class="trigger">
        <li><a href="https://lujun9972.github.io/emacs-document/years/">Years</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/authors/">Authors</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/tags/">Tags</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document">Github</a></li>
        <li><a href="https://lujun9972.github.io/emacs-document/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="https://www.bing.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">我为什么从Vim叛逃到了Emacs</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orge7d42c5">Reasons why I switched</a>
<ul>
<li><a href="#org4df7ec6">I didn’t have to stop using Vim</a></li>
<li><a href="#org5bce2ad">Copying/yanking and paste from one window into another</a></li>
<li><a href="#org4dfc157">Trying to use Vim as an IDE</a></li>
<li><a href="#orgced59a1">Duplicating my setup</a></li>
<li><a href="#orgf312289">Philosophical approach</a></li>
<li><a href="#orge731b5a">Community</a></li>
</ul>
</li>
<li><a href="#org9cd2666">Vim doesn’t have Tetris</a>
<ul>
<li><a href="#org96cae14">Org mode</a></li>
<li><a href="#org0acbae0">Emacs is fun to learn</a></li>
</ul>
</li>
<li><a href="#orgcaa3e42">Conclusion</a></li>
</ul>
</div>
</div>
<p>
我最开始用GNU/Linux时,Vim和Emacs都是接触过的. 当时觉得Vim看起来很直观,而且它的按键也特别有效率; Emacs则看起来不容易学习,而且它的按键也有点反人类.
我通过 <a href="http://unix.stackexchange.com/questions/986/what-are-the-pros-and-cons-of-vim-and-emacs">在Stack Overflow的这篇帖子</a> 比较了Vim和Emacs的优缺点. 其中有个用户说你永远都不会对你的Emacs配置感到满意,你会不断地调整你的配置,而且你还不能直接用别人的配置.
基于这些考虑,我选择了用Vim,而且成为了Vim的忠实信徒.
</p>

<p>
然而,随着时间的推移,我逐渐发现我的工作流效率并不高,而且我使用终端,编辑器,IDE的方式也不够高效.
于是我开始寻找解决之法,接着我发现Emacs能解决所有这些问题. 然而,由于我已经很熟悉Vim了,而且也没有那么多时间去修改配置文件,所以我一直在犹豫是否要使用Emacs.
最终,我对工作中的瓶颈已经忍无可忍了,刚好又<a href="https://www.youtube.com/watch?v=JWD1Fpdd4Pc&amp;t">看到了这个视频</a>, 这个视频完全改变了我对Emacs的看法.
在视频中,演讲者提到Vimer通过 <a href="http://spacemacs.org/">Spacemacs</a> 可以近乎无缝地从Vim迁移到Emacs中来. 
于是我试了一下,然后就被迷住了.
</p>

<p>
下面我会告诉你基于Vim的工作流到底低效在哪里,以及为什么我会使用Emacs.
需要说明的是,我使用的是Spacemacs,它有很多普通Emacs不具备的功能. 而且我在下面的阐述也是基于Spacemacs来说的. 
但是理论上,我所说的这些东西是与发行版无关的,任何人都能将之应用到自己的Emacs配置中,只是需要花点时间自己配置而已.
</p>

<div id="outline-container-orge7d42c5" class="outline-2">
<h2 id="orge7d42c5">Reasons why I switched</h2>
<div class="outline-text-2" id="text-orge7d42c5">
</div>
<div id="outline-container-org4df7ec6" class="outline-3">
<h3 id="org4df7ec6">I didn’t have to stop using Vim</h3>
<div class="outline-text-3" id="text-org4df7ec6">
<p>
是的,严格来说我也不算是切换到Emacs了. 我在Emacs中应用的依然是Vim的那一套按键设置.
有多种途径都能让你在Emacs中使用Vim的那一套按键 (Evil mode, Spacemacs, 也许还有其他的?), 而且在我看来,只有疯子才会长期使用Emacs的原生按键设置呢.
‘Emacs pinky’可不是开玩笑的(不过貌似确实很多人都不把它当成一回事)
在我考虑是否要切换到Emacs那会儿,我的关节疼得很厉害(不是Vim的锅),所以对我来说,一款编辑器是否符合人体工程学是很重要的考量因素.
Spacemacs不仅保留了Vim的那一套高效按键设置,还添加了颇多强大的功能.
</p>
</div>
</div>

<div id="outline-container-org5bce2ad" class="outline-3">
<h3 id="org5bce2ad">Copying/yanking and paste from one window into another</h3>
<div class="outline-text-3" id="text-org5bce2ad">
<p>
在Spacemacs中使用Vim按键真实太爽了.
你不仅可以用Vim按键写代码,你可以在Emacs的任何地方都使用Vim按键,包括编辑shell. 真是难以想象的舒爽.
举个例子,假设你输出一条shell命令时,本来想输的是
</p>

<div class="org-src-container">
<pre class="src src-shell">rm /home/user/folder1/folder2/folder3/folder4/folder5/some-file.txt
</pre>
</div>

<p>
结果错误地输成了
</p>

<div class="org-src-container">
<pre class="src src-shell">rn /home/user/folder1/folder1/folder3/folder4/folder5/some-file.txt
</pre>
</div>

<p>
这里有两个错误, <code>rm</code> 写成了 <code>rn</code>, <code>folder2</code> 写成了 <code>folder1</code>. 
若你是在普通的终端模拟器上操作,则需要先按 <code>上箭头</code> 取回输错的命令,然后用 <code>左箭头</code> 或 <code>Ctrl-Home</code> 将光标移到行首,修改 <code>rn</code> 为 <code>rm</code>, 再按 <code>右箭头</code> 到第二个 <code>folder1</code> 处进行修改.
</p>

<p>
而在Emacs下就没那么复杂了,你只需要取回上一条错误的命令,然后按下 <code>0</code> 跳到行首,将 <code>rn</code> 改为 <code>rm</code>, 在用 <code>/</code> 搜索到第二个数字 <code>1</code> 处(也可以按 <code>f1f1</code> 跳转过去),用 <code>r</code> 命令将它修改正确.
</p>

<p>
用Vim的方式操作终端,用Emacs就是这么任性.
</p>

<p>
我之前用Vim时,使用 'Terminator' 作为我的终端模拟器, 我常常需要开4,5个窗口来打开各式各样的shell和文件.
当我需要把一条命令在终端与文件之间相互拷贝时,需要先用鼠标选中要拷贝的文本,然后按下 <code>Ctrl-Shift-c</code> 将文本拷贝到粘贴板,在切到新窗口,按下 <code>Ctrl-Shift-v</code> 将文本从粘贴板粘贴回来.
而用spacemacs,一切都变得非常简单. 你只需要定位到shell所在的window,然后按下 <code>yy</code> 复制你想要的行,然后切回代码所在的window按 <code>p</code> 进行粘贴.
而且在Spacemacs中切换window本身也很容易,按下 <code>SPC-N</code> 就能切换到第N个window了. 所有这些操作无需鼠标就能搞定了.
</p>
</div>
</div>

<div id="outline-container-org4dfc157" class="outline-3">
<h3 id="org4dfc157">Trying to use Vim as an IDE</h3>
<div class="outline-text-3" id="text-org4dfc157">
<p>
有一阵子,我使用Vim来编辑代码,但是在 RStudio 或 PyCharm 这样的IDE中调试代码. 
虽说这些IDE也支持Vim按键,但是要在代码,终端,IDE之间不断切来切去也挺烦的. 而且我常常在一个项目中要用到多种编程语言,这样就需要打开多个特定语言的IDE,简直不能再烦了.
有鉴于此, 我尝试过用 <code>NerdTree</code> 和 <code>Airline</code> 等插件将Vim打造成一款IDE来用. 然而我从来没有成功地在Vim调试过(网上有人说搞定了,但是他们的解决方法在我这就是不行).
</p>

<p>
有人可能会争论说,Emacs也不是个全功能的IDE啊,不过对我来说,它已经足够好用了.
比如,借助 <code>Emacs Speaks Statistics (ESS)</code> package可以让Emacs变身成一个R IDE.
我可以编辑代码,一行行地调试代码,使用 <code>R-dired</code> 来查看变量,甚至输出终端命令,所有这些都能在一个frame中搞定.
它比那些IDE定制性更强. Emacs可不仅仅是个编辑器而已,它甚至远远超出了IDE的范畴,有些人甚至把它看成是一个操作系统!
</p>
</div>
</div>

<div id="outline-container-orgced59a1" class="outline-3">
<h3 id="orgced59a1">Duplicating my setup</h3>
<div class="outline-text-3" id="text-orgced59a1">
<p>
我希望在多台机器上保持相同的工作方式. 而且我对我的配置也非常的挑剔.
要把我的Vim配置复制到新机器简直就是个噩梦:我需要安装Vim,将 <code>.vimrc</code> 从Github上clone下来,然后创建一个软连接成为 <code>~/.vimrc</code>, 然后还需要下载那些我喜欢的Vim主题,安装 <code>Vundle</code>,然后用 <code>Vundle</code> 安装一堆的插件.
</p>

<p>
对Emacs,情况就简单多了(不过还是需要一些手工操作); 我只需要安装好Emacs,从Github上clone下来 <code>.spacemacs</code>,然后创建一个软链接,成为 <code>~/.spacemacs</code>. 然后启动Emacs, 就OK了,Emacs会自动为我安装好所有的东西,包括主题.
我不需要手工安装像 <code>Vundle</code> 这样的包管理器,不需要手工下载主题文件(当然,我承认可以用shell脚本来实现自动化,但是依然比Emacs要麻烦)
总体来说,安装Emacs插件要方便得多.
</p>
</div>
</div>

<div id="outline-container-orgf312289" class="outline-3">
<h3 id="orgf312289">Philosophical approach</h3>
<div class="outline-text-3" id="text-orgf312289">
<p>
有些人不喜欢Free Software Foundation(FSF)的那种理念(FSF的创立者和主管是Richard Stallman,他恰好就是Emacs的创造者), 但是我是很赞同FSF所提倡的那种精神的.
我一再强调,我是一个理想主义的学者. 然而令人讽刺的是,虽然大多数学者都在公立机构中任职,但我很少见有学者参与到自由软件的开发(使用Emacs不算)中来. 
也就是说,Emacs所代表的FSF及其理念和我作为学则的理念是吻合的(我使用Arch Linux可能违背了FSF的意愿,但是它确实要比ubuntu好用)
</p>
</div>
</div>

<div id="outline-container-orge731b5a" class="outline-3">
<h3 id="orge731b5a">Community</h3>
<div class="outline-text-3" id="text-orge731b5a">
<p>
Vim/Emacs之争非常的激烈, 但是就我看来,Emacs用于要更有激情一些. 全国各地都有大量的Emacs聚会,人们分享自己的配置,演示有用的技巧.
也许Vim也有类似的聚会吧,但是感觉没有Emacs那么常见.
Vim是一款非常有用的工具,而Emacs是一种生活方式.
</p>
</div>
</div>
</div>

<div id="outline-container-org9cd2666" class="outline-2">
<h2 id="org9cd2666">Vim doesn’t have Tetris</h2>
<div class="outline-text-2" id="text-org9cd2666">
<p>
Emacs可以玩俄罗斯方块而Vim不能玩. 争论至此休.
</p>

<p>
这当然只是个玩笑了, 不过若你和我以前一样,总是围绕着终端,编辑器和IDE转的话,那么我现在要告诉你一个关于Emacs的巨大秘密 - 你可以用它来所有的事情.
下面列出一些我在Emacs中能做而Vim不能做的事情:
</p>

<ul class="org-ul">
<li>使用终端(借助于 eshell)</li>
<li>查看天气情况(使用 forecast.io/dark sky API)</li>
<li>Google搜 (使用 helm-google)</li>
<li>收发email</li>
<li>写学术论文(使用 org-mode)</li>
<li>跟踪我的待办列表和日程安排(使用 org-mode)</li>
</ul>

<p>
与在终端中运行Vim打开文件来编辑不同, Emacs从不退出, 用Emacs打开的文件会在各个buffer中显示. 
有些人会抱怨Emacs的启动速度好慢,不过对我来说不是什么问题.
我的工作是以Emacs为中心的,我几乎从不关它.
</p>
</div>

<div id="outline-container-org96cae14" class="outline-3">
<h3 id="org96cae14">Org mode</h3>
<div class="outline-text-3" id="text-org96cae14">
<p>
Org-mode绝对是个神器. 有些人使用Emacs的目的就是为了用org-mode, 甚至有很多非程序员也在用.
我最开始是通过这个 <a href="https://www.youtube.com/watch?v=FtieBc3KptU">视频</a> 来学习用org-mode来写作的, 不过 <a href="https://www.youtube.com/watch?v=sQS06Qjnkcc&amp;list=PLVtKhBrRV_ZkPnBtt_TD1Cs9PJlU0IIdE">这些</a> <a href="https://www.youtube.com/watch?v=SzA2YODtgK4&amp;t">视频</a> 都是学习org-mode好起点.
</p>

<p>
Org-mode可以用来写作,编写大纲,管理日程,等等其他好多工作. 事实上,这篇文章就是用Spacemacs/org-mode来写得,然后再导成html.
</p>
</div>
</div>

<div id="outline-container-org0acbae0" class="outline-3">
<h3 id="org0acbae0">Emacs is fun to learn</h3>
<div class="outline-text-3" id="text-org0acbae0">
<p>
我只有实在没办法的情况下才会去学习Vimscript,大多数的使用的Vimscript都是从网上拷贝过来的. 我对写Vimscript感到很反感.
而Emacs就不一样了. 配置Emacs的过程很有趣. 我甚至对学习Emacs-Lisp跃跃欲试,我觉得学习Emacs-Lisp要比学习Vimscript有意义的多.
学习Emacs总能给我带来新的惊喜,我也一直在尝试用它来改进我的工作流程.
</p>
</div>
</div>
</div>

<div id="outline-container-orgcaa3e42" class="outline-2">
<h2 id="orgcaa3e42">Conclusion</h2>
<div class="outline-text-2" id="text-orgcaa3e42">
<p>
从Vim转换到Emacs后, 我总结出了一条结论: Vim并不是一个具体的编辑器,它其实指的是一系列的按键.
你当然可以把它当成一个编辑器来用(而且我偶尔也还会用一下),但Vim的最大贡献是它的按键设置,它的这套按键设置可以说是最好的一套方案,我现在已经完全离不开这套方案了(我甚至在浏览器中都使用这套按键).
</p>

<p>
Emacs严格来说也不能算是一个编辑器. 我越用就Emacs,就越觉得它实际上就是个操作系统. 
你可以把它当成是编辑器,IDE,终端,email客户端,字处理器,日程安排软件,代办事件列表,甚至是life organizer. 
Spacemacs的motto说的好:"最好的编辑器既不是Emacs也不是Vim,而是两者合一!". Emacs与Vim两者本身是不相斥的. 事实上,他们双剑合璧,无敌于世.
</p>

<p>
不过,Spacemacs/Emacs也不是说就完美了, 还是有少许障碍的:
</p>

<ul class="org-ul">
<li>我至今尚未发现一款完全满意的Emacs终端;也可能我理想中的终端根本就尚不存在. 
Eshell能满足我95%的需求(它也是我最常用的终端),可惜缺少IO重定向功能.
当我需要用到IO重定向功能时,我只能用terminator来代替.
当使用ansiterm和multiterm时,缺少Vim按键让我很苦恼,总体来说,这些模拟器都挺难用的.</li>
<li>我还不太会用org-agenda,因此目前我主要用Google calendar来安排任务.</li>
<li>Email时常以HTML为内容(而我并不知道如何让Emacs渲染这些HTML),所以我经常要用web版的客户端.</li>
<li>在Emacs中使用Mongo Shell (MongoDB) , Psql (PostgreSQL) 这一类的交互式shell经常会有一些问题,而且有些这类项目已经不再维护了.</li>
<li>使用Emacs的人不多,因此当要与人合作时就比较麻烦了. 需要花额外的时间来将之转换成符合工业标准的格式.
例如,我经常要跟同事分享手稿,而Emacs与工业标准的字处理程序(我不会告诉你是哪个程序的)之间的转换并不理想.
有鉴于此,现在我要把手稿发给同事前都需要先把org文件转换成libreOffice文档(这个转换效果还不错),再发给他们.
我听说网上有人已经解决这个问题了,但是我还不知道怎么搞定它.</li>
<li>Emacs作为web浏览器还不够理想.</li>
</ul>

<p>
我觉得所有这些问题终会被解决的. 总体来说,我对现在基于Emacs的工作流程更加满意. 如果你有一些关于使用Emacs的建议的话,欢迎告诉我!
</p>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2017-02-20</span>
            <span title="last modification date" class="post-info">2017-12-20</span>
            <span title="tags" class="post-info">:<a href="https://lujun9972.github.io/emacs-document/tags/emacs-common">emacs-common</a>:</span>
            <span title="author" class="post-info"><a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a></span>
        </div>
    <script src="https://lujun9972.github.io/emacs-document/media/js/jquery-2.1.3.min.js"></script>
    <script src="https://lujun9972.github.io/emacs-document/media/js/md5.min.js"></script>
        <section>
            <div id="gitalk-container"></div>
            <script type="text/javascript">
             var gitalk = new Gitalk({
                 clientID: 'fdcb5d9da3f4acb4862c',
                 clientSecret: 'dd0a16312a206782cb7669dcec5e96874ab48170',
                 repo: 'lujun9972.github.com',
                 owner: 'lujun9972',
                 admin: ['lujun9972'],
                 id: md5(location.pathname),      // Ensure uniqueness and length less than 50
                 distractionFreeMode: false  // Facebook-like distraction free mode
             })
             gitalk.render('gitalk-container')
            </script>
        </section>
    <script src="https://lujun9972.github.io/emacs-document/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; T430S">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div>
  <!-- https://instant.page/
       Make your site’s pages instant in 1 minute and improve your conversion rate by 1%  -->
  <script src="https://lujun9972.github.io/emacs-document//instant.page/1.1.0" type="module" integrity="sha384-EwBObn5QAxP8f09iemwAJljc+sU+eUXeL9vSBw1eNmVarwhKk2F9vBEpaN9rsrtp"></script>
  </body>
</html>
