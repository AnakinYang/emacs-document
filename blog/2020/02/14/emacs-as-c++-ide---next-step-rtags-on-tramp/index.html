<!DOCTYPE html>
<html lang="en">
<head>
  <title>Emacs as C++ IDE - Next Step: rtags on tramp - EMACS-DOCUMENT</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="lujun9972" />
  <meta name="keywords" content="raw" />
  <!-- <link rel="stylesheet" href="../../../../../media/css/main.css" type="text/css"/>
       <link rel="stylesheet" href="../../../../../media/css/comment.css" type="text/css"/> -->
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/kognise/water.css@latest/dist/dark.css'>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="../../../../../">EMACS-DOCUMENT</a></h1>
    <p>=============&gt;随便,谢谢</p>
    <nav class="site-nav">
      <ul class="trigger">
        <li><a href="../../../../../years/">Years</a></li>
        <li><a href="../../../../../authors/">Authors</a></li>
        <li><a href="../../../../../tags/">Tags</a></li>
        <li><a href="../../../../../about/">About</a></li>
        <li><a href="https://github.com/lujun9972/emacs-document.git">Github</a></li>
        <li><a href="../../../../../rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="https://www.bing.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="lujun9972.github.io/emacs-document">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">Emacs as C++ IDE - Next Step: rtags on tramp</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#breaking-it-down">Breaking it down</a></li>
</ul>
</div>
</div>
<p>
In an <a href="http://www.mycpu.org/emacs-rtags-helm/">earlier post on Emacs as C++ IDE</a>, I had shown how to get up and running very quickly out of the box with rtags. While that setup is fantastic, a lot of my code is running remote machines too. This is specially true at work and it frequently cheats me off using my Emacs on the same level of satisfaction that I use it otherwise.
</p>

<pre class="example">
This is a WIP, which needs to be verified on my setup that I cannot get to until
this is solved in the community https://github.com/Andersbakken/rtags/issues/1206#issuecomment-575368669
</pre>

<p>
Sigh! These are the things why some people feel frustrated and give up. Give up? Give ... up? NO we are the brethren who suffer through untold pains to stay away from phrases like “simply works”.
</p>

<p>
So I did what any insane Emacs user would do. Waste several hours searching for solutions on SO, Github etc and Voila! I found enough people with the same problems but alas none with a solution that works out of the box:
</p>

<p>
Copy the <code>rtags</code> binaries from your machine over to the remote machine and set it in an accessible path to Emacs. I put it in <code>$HOME/.emacs.d/rtags/bin/</code> Although, you can install rtags seperately over in the destination separately you need to be very careful to install the same versions of the package down to the last bit. Without this <code>rtags</code> starts crying about this mismatch.
</p>

<pre class="example">
(setq rtags-autostart-diagnostics t)
(setq rtags-tramp-enabled t)

;;;; This is similar to setting $PATH env var, but for TRAMP
(add-to-list 'tramp-remote-path "/home/ubuntu/.emacs.d/rtags/bin")

;;;; This is the same as --socket-address to rc
(setq rtags-socket-address "my-remote-machine:8998")

;;;; Gives you an unfair advantage
(setq rtags-rc-log-enabled t)
</pre>

<div id="outline-container-org93a3c37" class="outline-2">
<h2 id="breaking-it-down"><a id="org93a3c37"></a>Breaking it down</h2>
<div class="outline-text-2" id="text-breaking-it-down">
<p>
Here are the items you must do to setup remote rtags and I will then give you the steps to verify if your installation is successful.
</p>

<ul class="org-ul">
<li>Set the variable <code>rtags-tramp-enabled</code> to <code>t</code>, the reason should be obvious.</li>
<li>Set the variable <code>tramp-remote-path</code> to point to the location where you copied over the <code>rc</code> and <code>rdm</code> binaries in the remote machine. This is how Emacs can access these binaries remotely.</li>
<li>Set the variable <code>rtags-socket-address</code> to a val in <code>host_name:port</code> format. This is how Emacs apparently reaches the remote location.</li>
<li>And finally, the most important and crucial step of all. The one thing that gives you an unfair advantage in this struggle, the thing that's your “gun in a knife fight” is setting <code>rtags-rc-log-enabled</code> to <code>t</code> which clearly tells you about the error.</li>
</ul>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="post date" class="post-info">2020-02-14</span>
            <span title="last modification date" class="post-info">2020-02-14</span>
            <span title="tags" class="post-info">:<a href="../../../../../tags/raw">raw</a>:</span>
            <span title="author" class="post-info"><a href="mailto:travis &lt;at&gt; travis-job-ffeba6d8-dcae-4bdf-9f89-daded2ca07b1">lujun9972</a></span>
        </div>
    <script src="../../../../../media/js/jquery-2.1.3.min.js"></script>
    <script src="../../../../../media/js/md5.min.js"></script>
        <section>
            <div id="gitalk-container"></div>
            <script type="text/javascript">
             var gitalk = new Gitalk({
                 clientID: 'fdcb5d9da3f4acb4862c',
                 clientSecret: 'dd0a16312a206782cb7669dcec5e96874ab48170',
                 repo: 'lujun9972.github.com',
                 owner: 'lujun9972',
                 admin: ['lujun9972'],
                 id: md5(location.pathname),      // Ensure uniqueness and length less than 50
                 distractionFreeMode: false  // Facebook-like distraction free mode
             })
             gitalk.render('gitalk-container')
            </script>
        </section>
    <script src="../../../../../media/js/main.js"></script>
        <script>
         var _hmt = _hmt || [];
         (function() {
             var hm = document.createElement("script");
             hm.src = "https://hm.baidu.com/hm.js?7bac4fd0247f69c27887e0d4e3aee41e";
             var s = document.getElementsByTagName("script")[0]; 
             s.parentNode.insertBefore(hm, s);
         })();
        </script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 27.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:travis &lt;at&gt; travis-job-ffeba6d8-dcae-4bdf-9f89-daded2ca07b1">lujun9972</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div>
  <!-- https://instant.page/
       Make your site’s pages instant in 1 minute and improve your conversion rate by 1%  -->
  <script src="../../../../../instant.page/1.1.0" type="module" integrity="sha384-EwBObn5QAxP8f09iemwAJljc+sU+eUXeL9vSBw1eNmVarwhKk2F9vBEpaN9rsrtp"></script>
  </body>
</html>
